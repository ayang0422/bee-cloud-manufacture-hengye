(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{DSxi:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("miYZ");var r=n(a("tsqr")),c=n(a("d6i3")),l=n(a("gWZ8")),o=n(a("p0pE")),s=a("jka9"),u={types:[],typeDesc:[],step1Data:{categoryId:[],inventoryTypeCode:void 0},step2Data:{}},p={namespace:"InventoryModel",state:(0,o["default"])({},u),effects:{getInventoryType:c["default"].mark(function e(t,a){var n,r,o,u,p;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,n=t.callback,r=a.call,a.all,o=a.put,e.next=4,r(s.getInventoryTypeService,{});case 4:if(u=e.sent,1!==u.code||!u.object||!u.object.length){e.next=13;break}return p=u.object.map(function(e){return{value:"".concat(e.inventoryTypeCode),label:e.inventoryTypeDesc}}),e.next=9,o({type:"setTypes",payload:(0,l["default"])(p)});case 9:return e.next=11,o({type:"getinventoryTypeDescService",payload:{inventoryTypeCode:p[0].value},callback:function(e){return n({inventoryTypeCode:p[0].value,categoryId:e})}});case 11:e.next=13;break;case 13:case"end":return e.stop()}},e)}),getinventoryTypeDescService:c["default"].mark(function e(t,a){var n,r,o,u,p,y;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=t.callback,o=a.call,a.all,u=a.put,e.next=4,o(s.getinventoryTypeDescService,n);case 4:if(p=e.sent,1!==p.code||!p.object||!p.object.length){e.next=12;break}return y=d(p.object),e.next=9,u({type:"setTypesDesc",payload:(0,l["default"])(y.list)});case 9:r(y.allChecks),e.next=15;break;case 12:return e.next=14,u({type:"setTypesDesc",payload:[]});case 14:r(void 0);case 15:case"end":return e.stop()}},e)}),createInventoryOrder:c["default"].mark(function e(t,a){var n,l,u,p,d;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=t.callback,u=a.call,a.all,p=a.put,e.next=4,u(s.createInventoryOrder,n);case 4:if(d=e.sent,1!==d.code||!d.object){e.next=13;break}return e.next=8,p({type:"clearStep2Data",payload:{}});case 8:return e.next=10,p({type:"setStep2Data",payload:(0,o["default"])({},d.object)});case 10:l(),e.next=16;break;case 13:return e.next=15,p({type:"clearStep2Data",payload:{}});case 15:r["default"].error(res.message);case 16:case"end":return e.stop()}},e)}),step1DataChange:c["default"].mark(function e(t,a){var n,r;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,t.callback,a.call,a.all,r=a.put,e.next=4,r({type:"setStep1Data",payload:n});case 4:case"end":return e.stop()}},e)}),step2DataChange:c["default"].mark(function e(t,a){var n,r;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,t.callback,a.call,a.all,r=a.put,e.next=4,r({type:"setStep2Data",payload:n});case 4:case"end":return e.stop()}},e)}),saveInventoryInfo:c["default"].mark(function e(t,a){var n,r,l,o,u,p;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=t.callback,l=a.call,a.all,o=a.put,u=y(n),e.next=5,l(s.saveInventoryInfo,u);case 5:if(p=e.sent,1!==p.code){e.next=9;break}return e.next=9,o({type:"initData",payload:{}});case 9:r&&r(p);case 10:case"end":return e.stop()}},e)})},reducers:{setTypes:function(e,t){var a=t.payload;return(0,o["default"])({},e,{types:a})},setTypesDesc:function(e,t){var a=t.payload;return(0,o["default"])({},e,{typeDesc:a})},setStep1Data:function(e,t){var a=t.payload;return(0,o["default"])({},e,{step1Data:a})},clearStep2Data:function(e,t){t.payload;return(0,o["default"])({},e,{step2Data:{}})},setStep2Data:function(e,t){var a=t.payload;return(0,o["default"])({},e,{step2Data:(0,o["default"])({},e.step2Data,a)})},initData:function(e,t){t.payload;return(0,o["default"])({},u)}}};t["default"]=p;var d=function(e){var t=[{title:"\u5168\u9009",value:"all",key:"all"}],a=[];return t[0].children=e.map(function(e){return a.push(e.categoryId),{title:e.categoryName,value:e.categoryId,key:e.categoryId}}),{list:t,allChecks:a}},y=function(e){var t=e.inventoryName,a=e.inventoryOrderId,n=e.list,r=e.remarks;return{inventoryDetail:n,inventoryName:t,inventoryOrderId:a,remarks:r}}}}]);