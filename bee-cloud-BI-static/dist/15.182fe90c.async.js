(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{MLRj:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=r(a("d6i3")),n=r(a("p0pE")),u=r(a("wd/R")),s=a("3eXy"),d={namespace:"LogisticsOrder",state:{listSearchParams:{currentPage:1,pageSize:10,searchCount:!0,productId:"",dateRange:{startTime:(0,u["default"])().subtract(30,"days").format("YYYY-MM-DD"),endTime:(0,u["default"])().format("YYYY-MM-DD")},contractNum:""},dataObj:{},productsOptions:[]},effects:{getListEffect:c["default"].mark(function e(t,a){var r,u,d,o,i,l,f,p,g,b,m,h,v,P;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,u=t.callback,d=a.call,o=a.put,i=(0,n["default"])({},r),e.next=5,d(s.getAllLogisticsContractList,i);case 5:if(l=e.sent,!l||1!==l.code){e.next=14;break}return f=l.page,p=f.currentPage,g=f.pageSize,b=f.totalRecords,m=l.object,h=m.map(function(e){return(0,n["default"])({key:e.contractBusinessId},e)}),v={list:h,pagination:{total:b,current:p,pageSize:g}},e.next=12,o({type:"getListReduce",payload:{listSearchParams:(0,n["default"])({},r),dataObj:v}});case 12:e.next=15;break;case 14:u&&(P=l&&l.message||"fetchInit-error",u("","error",P));case 15:case"end":return e.stop()}},e)}),getProductsEffect:c["default"].mark(function e(t,a){var r,n,u,d,o,i;return c["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.callback,n=a.call,u=a.put,e.next=4,n(s.getProducts);case 4:if(d=e.sent,!d||1!==d.code){e.next=13;break}return o=d.object.map(function(e){return{value:"".concat(e.productId),label:e.productName}}),o.unshift({value:"",label:"\u5168\u90e8"}),e.next=10,u({type:"getProductsReduce",payload:o});case 10:r(o,"ok"),e.next=14;break;case 13:r&&(i=d&&d.message||"fetchInit-error",r("","error",i));case 14:case"end":return e.stop()}},e)})},reducers:{cacheSearchParamsReduce:function(e,t){var a=t.payload;return(0,n["default"])({},e,{listSearchParams:(0,n["default"])({},e.listSearchParams,a)})},cacheDataListReduce:function(e,t){var a=t.payload;return(0,n["default"])({},e,{dataObj:a})},getListReduce:function(e,t){var a=t.payload,r=a.listSearchParams,c=a.dataObj;return(0,n["default"])({},e,{listSearchParams:r,dataObj:c})},getProductsReduce:function(e,t){var a=t.payload;return(0,n["default"])({},e,{productsOptions:a})}}};t["default"]=d}}]);