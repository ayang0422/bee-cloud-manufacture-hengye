(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[53],{wXeY:function(e,a,t){"use strict";var n=t("g09b"),r=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0;var o=n(t("p0pE"));t("miYZ");var l,s,c,d=n(t("tsqr")),i=n(t("2Taf")),u=n(t("vZ4D")),p=n(t("l4Ni")),f=n(t("ujKo")),h=n(t("MhPg")),g=r(t("q1tI")),m=t("MuoO"),b=t("M7Dx"),T=t("XHmt"),v={name:"huhao"},C=function(e){var a=e.getFieldDecorator,t=e.productsOptions,n={};return g["default"].createElement(g["default"].Fragment,null,g["default"].createElement(b.FormItemYearPicker,{getFieldDecorator:a,label:"\u5e74\u4efd",fieldId:"year",required:!1,formItemLayout:n}),g["default"].createElement(b.FormItemSelect,{getFieldDecorator:a,label:"\u4ea7\u54c1",fieldId:"productId",required:!1,selectProps:{options:t},formItemLayout:n}))},O=(0,T.SearchFormHOC)(v)(C),y=(0,T.TableForParentTab)(v)(O),F=(l=(0,m.connect)(function(e){var a=e.PassRateModel,t=e.ReportFormCommonModel,n=e.loading;return{furnaceOptions:t.furnaceOptions,shiftCodeOptions:t.shiftCodeOptions,productsOptions:t.productsOptions,listSearchParams:a.listSearchParams,parentTabs:a.parentTabs,dataList:a.dataList,columns:a.columns,loading:n.effects["PassRateModel/getListEffect"]}}),l((c=function(e){function a(){var e,t;(0,i["default"])(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=(0,p["default"])(this,(e=(0,f["default"])(a)).call.apply(e,[this].concat(r))),t.handleFormChange=function(e){t.getTableData(e)},t.handleSearch=function(){t.getTableData()},t.handleTabChange=function(e){var a={reportType:e};t.handleFormChange(a)},t.handleTableChange=function(e){t.getTableData(e)},t.getTabPages=function(e){var a=t.props.dispatch;a({type:"PassRateModel/getTabPagesEffect",payload:e,callback:function(e,a,n){"error"===a?d["default"].error(n):t.getSearchOptions()}})},t.getSearchOptions=function(e){var a=t.props.dispatch;a({type:"ReportFormCommonModel/fetchFurnacesShiftCodeEffect",payload:e,callback:function(e,a,n){if("error"===a)d["default"].error(n);else if("ok"===a){var r=e.productsOptions,o={productId:r[0].value};t.handleFormChange(o)}}})},t.getTableData=function(e){var a=t.props.dispatch;a({type:"PassRateModel/getListEffect",payload:e,callback:function(e,a,t){"error"===a&&d["default"].error(t)}})},t}return(0,h["default"])(a,e),(0,u["default"])(a,[{key:"componentDidMount",value:function(){try{_czc1.push(["_trackEvent","\u67e5\u770b\u62a5\u8868","\u67e5\u770b\u5408\u683c\u7387","","",""])}catch(e){}var e={type:"pass_rate"};this.getTabPages(e)}},{key:"render",value:function(){var e=this.props,a=e.furnaceOptions,t=e.shiftCodeOptions,n=e.productsOptions,r=e.loading,l=e.listSearchParams,s=e.columns,c=e.dataList,d=e.parentTabs,i={furnaceOptions:a,shiftCodeOptions:t,productsOptions:n,dataDetail:l,handleSearch:this.handleSearch,onChange:this.handleFormChange},u=(0,o["default"])({loading:r,columns:s,data:c,bordered:!0,scroll:{x:2e3},handleTabChange:this.handleTabChange,handleTableChange:this.handleTableChange,parentTabs:null,childTabs:null},i);return 0===d.length?g["default"].createElement("h1",{style:{marginLeft:"40%"}},"\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u542f\u5f53\u524d\u9875\u9762"):g["default"].createElement(y,u)}}]),a}(g.Component),s=c))||s),P=F;a["default"]=P}}]);