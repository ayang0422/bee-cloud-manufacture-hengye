(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"1hTX":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(a("2Taf")),u=n(a("vZ4D")),o=n(a("l4Ni")),s=n(a("ujKo")),d=n(a("MhPg"));a("IzEo");var i=n(a("bx4M"));a("g9YV");var c,f,m=n(a("wCAj")),p=l(a("q1tI")),v=a("MuoO"),h=n(a("5HDV")),E=n(a("do7d")),g=(c=(0,v.connect)(function(e){var t=e.sale,a=t.orderInfo,n=t.tableDatas;return{orderInfo:a,tableDatas:n}}),c(f=function(e){function t(){return(0,r["default"])(this,t),(0,o["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,d["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.orderInfo.contract,a=void 0===t?{}:t,n=e.tableDatas;return p["default"].createElement(p["default"].Fragment,null,p["default"].createElement(i["default"],{title:"\u7269\u6d41\u4fe1\u606f"},p["default"].createElement("div",{className:h["default"].flex},p["default"].createElement("span",null,"\u5408\u540c\u6570\u91cf\uff1a",a.quantity||"0","\u5428")," ",p["default"].createElement("span",null,"\u5df2\u53d1\u91cf\uff1a",a.issuedVolume||"0","\u5428"),p["default"].createElement("span",null,"\u5728\u9014\u91cf\uff1a",a.trafficVolume||"0","\u5428")," ",p["default"].createElement("span",null,"\u5df2\u5230\u91cf\uff1a",a.arrivalVolume||"0","\u5428"),p["default"].createElement("span",null,"\u672a\u53d1\u91cf\uff1a",a.undeliveredVolume||"0","\u5428"))),p["default"].createElement(y,{columns:E["default"].PRODUCT.columns,data:n[E["default"].PRODUCT.key],name:E["default"].PRODUCT.name}),p["default"].createElement(y,{columns:E["default"].PAY.columns,data:n[E["default"].PAY.key],name:E["default"].PAY.name}))}}]),t}(p.Component))||f);t["default"]=g,g.defaultProps={activeKey:"",tabList:[],onTabChange:function(){return null}};var y=function(e){var t=e.name,a=e.columns,n=e.data;return p["default"].createElement(i["default"],{title:t,className:h["default"].cardTable},p["default"].createElement(m["default"],{pagination:!1,columns:a,dataSource:n}))}},"5HDV":function(e,t,a){e.exports={flex:"flex___2wZmE",cardTable:"cardTable___hjjS2"}},"6tGQ":function(e,t,a){e.exports={container:"container___2o_WF"}},"8+TB":function(e,t,a){e.exports={container:"container___o-3Z8",left:"left___ppy5i",title:"title___1vmFP",info:"info___yNZ5Y",right:"right___1DtVW",options:"options___3AM8e",statistics:"statistics___3nf10",tabCard:"tabCard___-_vUb"}},CkL7:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=n(a("1hTX")),r=n(a("u3c+")),u=n(a("mWaY")),o=n(a("m2Rj")),s={Detail:l["default"],Receive:r["default"],Settlement:u["default"],Files:o["default"]};t["default"]=s},MI74:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r,u,o,s=n(a("2Taf")),d=n(a("vZ4D")),i=n(a("l4Ni")),c=n(a("ujKo")),f=n(a("MhPg")),m=n(a("jHYr")),p=l(a("q1tI")),v=n(a("bKel")),h=n(a("mmA2")),E=n(a("6tGQ")),g=n(a("CkL7")),y=a("MuoO"),b=(r=(0,y.connect)(function(e){return(0,m["default"])(e),{}}),(0,v["default"])(u=r((o=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,i["default"])(this,(e=(0,c["default"])(t)).call.apply(e,[this].concat(l))),a.state={tabList:[{tab:"\u8be6\u60c5",key:"Detail"},{tab:"\u6536\u8d27\u60c5\u51b5",key:"Receive"},{tab:"\u7ed3\u7b97\u60c5\u51b5",key:"Settlement"},{tab:"\u5408\u540c\u9644\u4ef6",key:"Files"}],activeKey:"Detail"},a.onTabChange=function(e){a.setState({activeKey:e})},a}return(0,f["default"])(t,e),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.contractBusinessId=this.props.location.query.contractBusinessId;var e=this.props.dispatch;e({type:"sale/getSaleContractDetail",payload:this.contractBusinessId})}},{key:"render",value:function(){var e=this.state,t=e.tabList,a=e.activeKey,n=g["default"][a];return p["default"].createElement("div",{className:E["default"].container},p["default"].createElement(h["default"],{tabList:t,activeKey:a,onTabChange:this.onTabChange},n?p["default"].createElement(n,null):null))}}]),t}(p.Component),u=o))||u)||u);t["default"]=b},jQr2:function(e,t,a){e.exports={flex:"flex___vt6fx",cardTable:"cardTable___3FQy2",result:"result___wbkCC"}},m2Rj:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("IzEo");var r=n(a("bx4M"));a("R9oj");var u=n(a("ECub"));a("Pwec");var o,s,d,i=n(a("CtXQ")),c=n(a("2Taf")),f=n(a("vZ4D")),m=n(a("l4Ni")),p=n(a("ujKo")),v=n(a("MhPg")),h=l(a("q1tI")),E=a("MuoO"),g=n(a("uLZm")),y=(o=(0,E.connect)(function(e){var t=e.sale.orderInfo,a=void 0===t?{}:t;return{orderInfo:a}}),o((d=function(e){function t(){var e,a;(0,c["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,m["default"])(this,(e=(0,p["default"])(t)).call.apply(e,[this].concat(l))),a.handleSkip=function(e){e&&window.open(e)},a}return(0,v["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this,t=this.props.orderInfo;return h["default"].createElement("div",{className:g["default"].container},h["default"].createElement(r["default"],{title:"\u5408\u540c\u9644\u4ef6"},t&&t.contract&&t.contract.files&&t.contract.files.length?t.contract.files.map(function(t,a){return h["default"].createElement("div",{className:g["default"].item},h["default"].createElement(i["default"],{type:"paper-clip"}),h["default"].createElement("span",{onClick:e.handleSkip.bind(e,t.fileUrl)},t.fileName||"\u672a\u77e5\u540d\u5b57"))}):h["default"].createElement(u["default"],null)))}}]),t}(h.Component),s=d))||s);t["default"]=y},mWaY:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("14J3");var r=n(a("BMrR"));a("jCWc");var u=n(a("kPKH"));a("IzEo");var o=n(a("bx4M"));a("+L6B");var s=n(a("2/Rp"));a("g9YV");var d=n(a("wCAj"));a("giR+");var i=n(a("fyUT"));a("iQDF");var c=n(a("+eQT")),f=n(a("p0pE"));a("miYZ");var m,p,v,h=n(a("tsqr")),E=n(a("2Taf")),g=n(a("vZ4D")),y=n(a("l4Ni")),b=n(a("ujKo")),C=n(a("MhPg")),I=l(a("q1tI")),S=a("MuoO"),w=n(a("qSPi")),_=n(a("bKel")),k=a("YYOS"),D=n(a("wd/R")),T="YYYY-MM-DD",P=(m=(0,S.connect)(function(e){var t=e.sale.orderInfo;return{orderInfo:t}}),(0,_["default"])(p=m((v=function(e){function t(){var e,a;(0,E["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,y["default"])(this,(e=(0,b["default"])(t)).call.apply(e,[this].concat(l))),a.state={completed:0,settlementData:[]},a.onChange=function(e,t,n){var l=a.state.settlementData;l[e][t]=n,a.setState({settlementData:l})},a.addSettle=function(){var e=a.state.settlementData;e.push({settleTime:null,weightReceive:null,weightSettle:null,waterContentSettle:null,unitPriceSettlement:null,amountSettlement:null,edit:!0}),a.setState({settlementData:e})},a.deleteSettle=function(e){var t=a.state.settlementData;t.splice(e,1),a.setState({settlementData:t})},a.saveSettleInfo=function(e){var t=a.props.dispatch,n=a.props.location.query.contractBusinessId,l=a.state.settlementData,r=l[e],u=r.settleTime,o=r.weightReceive,s=r.weightSettle,d=r.waterContentSettle,i=r.unitPriceSettlement,c=r.amountSettlement;return u?o||0===o?s||0===s?d||0===d?i||0===i?c||0===c?void(0,k.saveContractSettleInfo)((0,f["default"])({},l[e],{contractBusinessId:n})).then(function(r){1===r.code?(h["default"].success("\u786e\u8ba4\u6210\u529f"),t({type:"sale/getSaleContractDetail",payload:n}),l[e]["edit"]=!1,a.setState({settlementData:l})):h["default"].error(r.message)}):h["default"].error("\u8bf7\u8f93\u5165\u7ed3\u7b97\u91d1\u989d"):h["default"].error("\u8bf7\u8f93\u5165\u7ed3\u7b97\u5355\u4ef7"):h["default"].error("\u8bf7\u8f93\u5165\u7ed3\u7b97\u6c34\u5206"):h["default"].error("\u8bf7\u8f93\u5165\u7ed3\u7b97\u6570\u91cf"):h["default"].error("\u8bf7\u8f93\u5165\u6536\u8d27\u6570\u91cf"):h["default"].error("\u8bf7\u9009\u62e9\u7ed3\u7b97\u65f6\u95f4")},a}return(0,C["default"])(t,e),(0,g["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.orderInfo;e&&e.contract&&this.setState({completed:e.contract.completed}),e&&e.settle&&e.settle.data&&this.setState({settlementData:e.settle.data})}},{key:"render",value:function(){var e=this,t=this.state,a=t.settlementData,n=t.completed,l=[{title:"\u7ed3\u7b97\u65f6\u95f4",dataIndex:"settleTime",key:"settleTime",render:function(t,a,l){return!n&&a.edit?I["default"].createElement(c["default"],{style:{width:"80%"},allowClear:!1,value:t?(0,D["default"])(t):null,format:T,showTime:!1,onChange:function(t,a){return e.onChange(l,"settleTime",a)}}):t},width:"15%"},{title:"\u6536\u8d27\u6570\u91cf",dataIndex:"weightReceive",key:"weightReceive",render:function(t,a,l){return!n&&a.edit?I["default"].createElement(i["default"],{value:t,style:{width:"80%"},onChange:function(t){return e.onChange(l,"weightReceive",t)}}):t},width:"15%"},{title:"\u7ed3\u7b97\u6570\u91cf",dataIndex:"weightSettle",key:"weightSettle",render:function(t,a,l){return!n&&a.edit?I["default"].createElement(i["default"],{value:t,style:{width:"80%"},onChange:function(t){return e.onChange(l,"weightSettle",t)}}):t},width:"15%"},{title:"\u7ed3\u7b97\u6c34\u5206",dataIndex:"waterContentSettle",key:"waterContentSettle",render:function(t,a,l){return!n&&a.edit?I["default"].createElement(i["default"],{value:t,style:{width:"80%"},onChange:function(t){return e.onChange(l,"waterContentSettle",t)}}):t},width:"15%"},{title:"\u7ed3\u7b97\u5355\u4ef7",dataIndex:"unitPriceSettlement",key:"unitPriceSettlement",render:function(t,a,l){return!n&&a.edit?I["default"].createElement(i["default"],{value:t,style:{width:"80%"},onChange:function(t){return e.onChange(l,"unitPriceSettlement",t)}}):t},width:"15%"},{title:"\u7ed3\u7b97\u91d1\u989d",dataIndex:"amountSettlement",key:"amountSettlement",render:function(t,a,l){return!n&&a.edit?I["default"].createElement(i["default"],{value:t,style:{width:"80%"},onChange:function(t){return e.onChange(l,"amountSettlement",t)}}):t},width:"15%"},{title:"\u64cd\u4f5c",dataIndex:"actions",key:"actions",render:function(t,a,l){return!n&&a.edit?I["default"].createElement("div",{className:w["default"].actions},I["default"].createElement("span",{onClick:e.saveSettleInfo.bind(e,l)},"\u4fdd\u5b58"),I["default"].createElement("span",{onClick:e.deleteSettle.bind(e,l)},"\u5220\u9664")):I["default"].createElement("div",{className:w["default"].actions},I["default"].createElement("span",{style:{cursor:"default",color:"rgba(0, 0, 0, .25)"}},"\u5df2\u786e\u8ba4"))},width:"10%"}];return I["default"].createElement("div",{className:w["default"].container},I["default"].createElement(r["default"],null,I["default"].createElement(u["default"],{span:24},I["default"].createElement(o["default"],{title:"\u7ed3\u7b97\u5355"},I["default"].createElement(d["default"],{rowKey:function(e,t){return t},columns:l,dataSource:a,pagination:!1}),n?null:I["default"].createElement(s["default"],{onClick:this.addSettle.bind(this),icon:"plus",block:!0,style:{marginTop:12}},"\u65b0\u589e\u7ed3\u7b97")))))}}]),t}(I.Component),p=v))||p)||p);t["default"]=P},mmA2:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("IzEo");var r=n(a("bx4M"));a("P2fV");var u=n(a("NJEC"));a("+L6B");var o=n(a("2/Rp"));a("14J3");var s=n(a("BMrR"));a("jCWc");var d=n(a("kPKH"));a("miYZ");var i=n(a("tsqr"));a("iQDF");var c=n(a("+eQT"));a("y8nQ");var f=n(a("Vl3Y"));a("giR+");var m,p,v,h=n(a("fyUT")),E=n(a("2Taf")),g=n(a("vZ4D")),y=n(a("l4Ni")),b=n(a("ujKo")),C=n(a("MhPg")),I=l(a("q1tI")),S=a("MuoO"),w=n(a("bKel")),_=n(a("8+TB")),k=l(a("f97x")),D=a("YYOS"),T=a("Kvkj"),P=n(a("wd/R")),M=(m=(0,S.connect)(function(e){var t=e.sale.orderInfo;return{orderInfo:t}}),(0,w["default"])(p=m((v=function(e){function t(){var e,a;(0,E["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,y["default"])(this,(e=(0,b["default"])(t)).call.apply(e,[this].concat(l))),a.state={visible:!1},a.handleOk=function(e){var t=e.paymentAmount,n=e.receiveTime,l={paymentAmount:t,receiveTime:(0,P["default"])(n).format("YYYY-MM-DD"),contractBusinessId:a.contractBusinessId};(0,D.receiveForSaleContract)(l).then(function(e){1===e.code&&(a.setState({visible:!1}),a.props.dispatch({type:"sale/getSaleContractDetail",payload:a.contractBusinessId})),i["default"].info(e.message)})},a}return(0,C["default"])(t,e),(0,g["default"])(t,[{key:"componentDidMount",value:function(){this.contractBusinessId=this.props.location.query.contractBusinessId}},{key:"completeSaleContract",value:function(e){var t=this;(0,D.completeSaleContract)({businessId:e}).then(function(e){1===e.code&&t.props.dispatch({type:"sale/getSaleContractDetail",payload:t.contractBusinessId}),i["default"].info(e.message)})}},{key:"showPay",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=this.state.visible,t=this.props,a=t.tabList,n=t.children,l=t.orderInfo.contract,i=void 0===l?{}:l,c=t.activeKey,f=t.onTabChange,m={visible:e,title:"\u6536\u6b3e",onOk:this.handleOk,onCancel:this.showPay.bind(this,!1),okText:"\u786e\u5b9a\u6536\u6b3e",cancelText:"\u53d6\u6d88"};return I["default"].createElement("div",{className:_["default"].container},I["default"].createElement(s["default"],null,I["default"].createElement(d["default"],{span:16,className:_["default"].left},I["default"].createElement("div",{className:_["default"].title}," \u5408\u540c\u7f16\u53f7\uff1a",i.contractNum),I["default"].createElement(s["default"],{className:_["default"].info},I["default"].createElement(d["default"],{span:10},I["default"].createElement("span",null,"\u3000\u521b\u5efa\u4eba\uff1a"),I["default"].createElement("span",null,i.creator)),I["default"].createElement(d["default"],{span:10},I["default"].createElement("span",null,"\u3000\u3000\u5ba2\u6237\uff1a"),I["default"].createElement("span",null,i.customerName)),I["default"].createElement(d["default"],{span:10},I["default"].createElement("span",null,"\u7b7e\u8ba2\u65e5\u671f\uff1a"),I["default"].createElement("span",null,i.signDate)),I["default"].createElement(d["default"],{span:10},I["default"].createElement("span",null,"\u3000\u5230\u8fbe\u5730\uff1a"),I["default"].createElement("span",null,i.arrivalAddress)),I["default"].createElement(d["default"],{span:10},I["default"].createElement("span",null,"\u3000\u8054\u7cfb\u4eba\uff1a"),I["default"].createElement("span",null,i.linkMan)),I["default"].createElement(d["default"],{span:10},I["default"].createElement("span",null,"\u9500\u552e\u65b9\u5f0f\uff1a"),I["default"].createElement("span",null,k.saleMode[i.saleMode||"0"])))),I["default"].createElement("div",{className:_["default"].right},0===i.completed&&"Detail"===c?I["default"].createElement("div",{className:_["default"].options},I["default"].createElement(u["default"],{title:"\u786e\u5b9a\u5b8c\u6210\u8be5\u5408\u540c\u5417?",onConfirm:this.completeSaleContract.bind(this,i.contractBusinessId),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},I["default"].createElement(o["default"],null,"\u5b8c\u6210\u5408\u540c")),I["default"].createElement(o["default"],{type:"primary",onClick:this.showPay.bind(this,!0)},"\u6536\u6b3e")):null,I["default"].createElement("div",{className:_["default"].statistics},I["default"].createElement("div",null,I["default"].createElement("span",null,"\u72b6\u6001"),I["default"].createElement("span",null,k.completed[i.completed])),I["default"].createElement("div",null,I["default"].createElement("span",null,"\u5408\u540c\u91d1\u989d"),I["default"].createElement("span",null,"\xa5 ",i.amount||0))))),I["default"].createElement(r["default"],{className:_["default"].tabCard,tabList:a,activeTabKey:c,onTabChange:function(e){f(e)}},n),I["default"].createElement(O,m))}}]),t}(I.PureComponent),p=v))||p)||p);t["default"]=M;var x=function(e){function t(){return(0,E["default"])(this,t),(0,y["default"])(this,(0,b["default"])(t).apply(this,arguments))}return(0,C["default"])(t,e),(0,g["default"])(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a={rules:[{required:!0}]};return I["default"].createElement(f["default"],t,I["default"].createElement(f["default"].Item,{label:"\u6536\u6b3e\u91d1\u989d"},e("paymentAmount",a)(I["default"].createElement(h["default"],null))),I["default"].createElement(f["default"].Item,{label:"\u6536\u6b3e\u65f6\u95f4"},e("receiveTime",a)(I["default"].createElement(c["default"],null))))}}]),t}(I.PureComponent),O=(0,T.MadalHOC)(f["default"].create()(x))},qSPi:function(e,t,a){e.exports={container:"container___1avA3",actions:"actions___3gE2C"}},"u3c+":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("lUTK");var r=n(a("BvKs"));a("qVdP");var u=n(a("jsC+"));a("Pwec");var o=n(a("CtXQ")),s=n(a("gWZ8"));a("miYZ");var d=n(a("tsqr")),i=n(a("p0pE"));a("OaEy");var c=n(a("2fM7"));a("5NDa");var f=n(a("5rEg")),m=n(a("jehZ"));a("giR+");var p=n(a("fyUT"));a("y8nQ");var v=n(a("Vl3Y")),h=n(a("2Taf")),E=n(a("vZ4D")),g=n(a("l4Ni")),y=n(a("ujKo")),b=n(a("MhPg"));a("IzEo");var C=n(a("bx4M"));a("g9YV");var I,S,w,_=n(a("wCAj")),k=l(a("q1tI")),D=a("MuoO"),T=n(a("bKel")),P=n(a("jQr2")),M=n(a("do7d")),x=a("Kvkj"),O=a("YYOS"),R=a("3eXy"),A=(I=(0,D.connect)(function(e){var t=e.sale,a=t.tableDatas,n=t.orderInfo;return{tableDatas:a,orderInfo:n}}),(0,T["default"])(S=I((w=function(e){function t(){var e,a;(0,h["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,g["default"])(this,(e=(0,y["default"])(t)).call.apply(e,[this].concat(l))),a.state={sampleInfo:[],showReslut:!1,discountInfo:{},showDiscount:!1,resultAttributes:[],showInStorage:!1,inStorageInfo:{}},a.saveAssayResult=function(e){var t=a.state,n=t.inStorageInfo,l=t.resultAttributes,r={assayResult:e.assayResult,carrierTransportDetailIds:[n.carrierTransportDetailId],resultList:l.map(function(t){return(0,i["default"])({},t,{assayItem:t.assayItemOut,assayValue:e[t.assayItemOut]})})};(0,O.saveAssayResult)(r).then(function(e){1===e.code?(d["default"].success(e.message),a.getData({}),a.setState({showInStorage:!1})):d["default"].error(e.message)})},a.saveDiscountTransportDetail=function(e,t){var n=(0,i["default"])({},t,{carrierTransportDetailIds:[e.carrierTransportDetailId]});(0,O.saveDiscountTransportDetail)(n).then(function(e){1===e.code&&(a.getData({}),a.setState({showDiscount:!1})),d["default"].info(e.message)})},a}return(0,b["default"])(t,e),(0,E["default"])(t,[{key:"componentDidMount",value:function(){this.contractBusinessId=this.props.location.query.contractBusinessId,this.getData({})}},{key:"getData",value:function(e){var t=e.currentPage,a=void 0===t?1:t,n=this.props.dispatch;n({type:"sale/getCarList",payload:{contractBusinessId:this.contractBusinessId,currentPage:a,pageSize:5}})}},{key:"onChange",value:function(e){var t=e.current;this.getData({currentPage:t})}},{key:"showResult",value:function(e){var t=this;(0,O.getCarSampleInfo)({carrierTransportDetailId:e}).then(function(e){1===e.code&&t.setState({sampleInfo:e.object,showReslut:!0})})}},{key:"moreOptionClick",value:function(e,t){var a=this,n=t.key,l=this.props.orderInfo.contract,r=void 0===l?{}:l;switch(n){case"1":(0,R.getTestAttributeOutByProductId)(r.productId).then(function(t){1===t.code?a.setState({inStorageInfo:e,resultAttributes:t.object,showInStorage:!0}):d["default"].error(t.message)});break;case"2":this.setState({discountInfo:e,showDiscount:!0});break;default:break}}},{key:"render",value:function(){var e=this,t=this.state,a=t.showReslut,n=t.sampleInfo,l=t.showDiscount,d=t.discountInfo,c=t.resultAttributes,f=t.showInStorage,m=this.props,p=m.tableDatas,v=m.orderInfo.contract,h=void 0===v?{}:v,E=p[M["default"].SALE_RECEIVE.key],g=E.data,y=void 0===g?[]:g,b=E.page,C=void 0===b?{}:b,I={current:C.currentPage||1,total:C.totalRecords||0,pageSize:C.pageSize||6},S={visible:a,title:"\u67e5\u770b\u5316\u9a8c\u7ed3\u679c",onOk:function(){return e.setState({showReslut:!1})},onCancel:function(){return e.setState({showReslut:!1})},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",ComProps:{data:n}},w={visible:l,title:"\u88ab\u6298\u4ef7",onOk:this.saveDiscountTransportDetail.bind(this,d),onCancel:function(){return e.setState({showDiscount:!1})},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",ComProps:{data:(0,i["default"])({},d,h)}},_={visible:f,title:"\u786e\u8ba4\u6536\u8d27:\u8bf7\u586b\u5199\u5ba2\u6237\u5316\u9a8c\u7ed3\u679c",onOk:this.saveAssayResult.bind(this),onCancel:function(){return e.setState({showInStorage:!1})},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",ComProps:{data:c}},D=(0,s["default"])(M["default"].SALE_RECEIVE.columns);D.push({title:"\u64cd\u4f5c",align:"center",dataIndex:"_option",key:"_option",render:function(t,a){return k["default"].createElement(k["default"].Fragment,null,k["default"].createElement("a",{onClick:e.showResult.bind(e,a.carrierTransportDetailId)},"\u67e5\u770b\u5316\u9a8c\u7ed3\u679c"),"\u3000\xa0",void 0===a.handleType?k["default"].createElement(u["default"],{overlay:T(a)},k["default"].createElement("a",{className:"ant-dropdown-link"},"\u66f4\u591a\u64cd\u4f5c ",k["default"].createElement(o["default"],{type:"down"}))):null," ")}});var T=function(t){return k["default"].createElement(r["default"],{onClick:e.moreOptionClick.bind(e,t)},k["default"].createElement(r["default"].Item,{key:1},k["default"].createElement("a",{target:"_blank"},"\u786e\u8ba4\u6536\u8d27")),k["default"].createElement(r["default"].Item,{key:2},k["default"].createElement("a",{target:"_blank"},"\u88ab\u6298\u4ef7")))};return k["default"].createElement(k["default"].Fragment,null,k["default"].createElement(N,{columns:D,data:y,pagination:I,name:M["default"].SALE_RECEIVE.name,onChange:this.onChange.bind(this)}),k["default"].createElement(Y,S),k["default"].createElement(K,w),k["default"].createElement(V,_))}}]),t}(k.PureComponent),S=w))||S)||S);t["default"]=A;var N=function(e){var t=e.name,a=e.columns,n=e.data,l=e.pagination,r=e.onChange;return k["default"].createElement(C["default"],{title:t,className:P["default"].cardTable},k["default"].createElement(_["default"],{columns:a,dataSource:n,pagination:l,onChange:r}))},j=function(e){var t=e.data,a=void 0===t?{}:t;return k["default"].createElement("div",{className:P["default"].result},k["default"].createElement(k["default"].Fragment,null,k["default"].createElement("section",null,k["default"].createElement("span",null,"\u5316\u9a8c\u7ed3\u679c\uff1a",k["default"].createElement("ul",null,a&&a.length?a.map(function(e){return k["default"].createElement(k["default"].Fragment,null,k["default"].createElement("li",null,k["default"].createElement("div",null,e.assayItem),k["default"].createElement("div",null,e.assayValue+""+e.unitString)))}):k["default"].createElement("li",null,"\u65e0")," ")," "))))},Y=(0,x.MadalHOC)(j),B=function(e){function t(){return(0,h["default"])(this,t),(0,g["default"])(this,(0,y["default"])(t).apply(this,arguments))}return(0,b["default"])(t,e),(0,E["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.form.getFieldDecorator,n={labelCol:{xs:{span:12},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},l={rules:[{required:!0}]};return k["default"].createElement(v["default"],(0,m["default"])({},n,{title:"\u8bf7\u586b\u5199\u5ba2\u6237\u5316\u9a8c\u7ed3\u679c"}),k["default"].createElement(v["default"].Item,{label:"\u5ba2\u6237"},t.customerName),k["default"].createElement(v["default"].Item,{label:"\u4ea7\u54c1\u540d\u79f0"},t.productName),k["default"].createElement(v["default"].Item,{label:"\u8f7d\u91cd\u6570\u91cf"},t.cargoWeight||0,"\u5428"),k["default"].createElement(v["default"].Item,{label:"\u6298\u540e\u5355\u4ef7"},a("discountUnitPrice",l)(k["default"].createElement(p["default"],null))))}}]),t}(k.PureComponent),K=(0,x.MadalHOC)(v["default"].create()(B)),q=function(e){function t(){return(0,h["default"])(this,t),(0,g["default"])(this,(0,y["default"])(t).apply(this,arguments))}return(0,b["default"])(t,e),(0,E["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=void 0===t?[]:t,n=e.form.getFieldDecorator,l={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return k["default"].createElement(v["default"],l,a&&a.map(function(e){return k["default"].createElement(v["default"].Item,{label:e.assayItemOut},n(e.assayItemOut,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]})(k["default"].createElement(f["default"],{suffix:e.unitString})))}),k["default"].createElement(v["default"].Item,{label:"\u662f\u5426\u5408\u683c"},n("assayResult",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u5408\u683c"}]})(k["default"].createElement(c["default"],{placeholder:"\u9009\u62e9\u662f\u5426\u5408\u683c"},k["default"].createElement(Option,{value:1},"\u5408\u683c"),k["default"].createElement(Option,{value:0},"\u4e0d\u5408\u683c")))))}}]),t}(k.PureComponent),V=(0,x.MadalHOC)(v["default"].create()(q))},uLZm:function(e,t,a){e.exports={container:"container___35LMg",item:"item___zNBni"}}}]);