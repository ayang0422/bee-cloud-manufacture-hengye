(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[54],{Irbp:function(e,t,a){"use strict";var n=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("T2oS");var r=n(a("W9HT")),l=n(a("p0pE"));a("miYZ");var d,c,i,s=n(a("tsqr")),u=n(a("2Taf")),p=n(a("vZ4D")),f=n(a("l4Ni")),h=n(a("ujKo")),m=n(a("MhPg")),g=o(a("q1tI")),b=a("MuoO"),C=a("M7Dx"),T=a("XHmt"),y={name:"huhao"},v=function(e){var t=e.getFieldDecorator,a=e.productsOptions,n=e.furnaceOptions,o={};return g["default"].createElement(g["default"].Fragment,null,g["default"].createElement(C.FormItemSelect,{getFieldDecorator:t,label:"\u7089\u53f7",fieldId:"furnaceId",required:!1,selectProps:{options:n},formItemLayout:o}),g["default"].createElement(C.FormItemSelect,{getFieldDecorator:t,label:"\u4ea7\u54c1",fieldId:"productId",required:!1,selectProps:{options:a},formItemLayout:o}),g["default"].createElement(C.FormItemRangePicker,{getFieldDecorator:t,label:"\u65e5\u671f\u8303\u56f4",fieldId:"dateRange",required:!1,datePickerProps:{format:"YYYY-MM-DD"},formItemLayout:o}))},O=(0,T.SearchFormHOC)(y)(v),P=(0,T.TableForParentTab)(y)(O),F=(d=(0,b.connect)(function(e){var t=e.ProductConsumptAnalyModel,a=e.ReportFormCommonModel,n=e.loading;return{furnaceOptions:a.furnaceOptions,shiftCodeOptions:a.shiftCodeOptions,productsOptions:a.productsOptions,listSearchParams:t.listSearchParams,parentTabs:t.parentTabs,dataList:t.dataList,columns:t.columns,loading:n.effects["ProductConsumptAnalyModel/getListEffect"]}}),d((i=function(e){function t(){var e,a;(0,u["default"])(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return a=(0,f["default"])(this,(e=(0,h["default"])(t)).call.apply(e,[this].concat(o))),a.handleFormChange=function(e){a.getTableData(e)},a.handleSearch=function(){a.getTableData()},a.handleTabChange=function(e){var t={reportType:e};a.handleFormChange(t)},a.handleTableChange=function(e){a.getTableData(e)},a.getTabPages=function(e){var t=a.props.dispatch;t({type:"ProductConsumptAnalyModel/getTabPagesEffect",payload:e,callback:function(e,t,n){"error"===t?s["default"].error(n):a.getSearchOptions()}})},a.getSearchOptions=function(e){var t=a.props.dispatch;t({type:"ReportFormCommonModel/fetchFurnacesShiftCodeEffect",payload:e,callback:function(e,t,n){if("error"===t)s["default"].error(n);else if("ok"===t){var o=e.furnaceOptions,r=e.shiftCodeOptions,l=e.productsOptions,d={productId:l[0].value,furnaceId:o[0].value,shiftCode:r[0].value};a.handleFormChange(d)}}})},a.getTableData=function(e){var t=a.props.dispatch;t({type:"ProductConsumptAnalyModel/getListEffect",payload:e,callback:function(e,t,a){"error"===t&&s["default"].error(a)}})},a}return(0,m["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){try{_czc1.push(["_trackEvent","\u67e5\u770b\u62a5\u8868","\u67e5\u770b\u4ea7\u54c1\u53ca\u6d88\u8017\u5206\u6790","","",""])}catch(e){}var e={type:"output_and_consumption_analysis"};this.getTabPages(e)}},{key:"render",value:function(){var e=this.props,t=e.furnaceOptions,a=e.shiftCodeOptions,n=e.productsOptions,o=e.loading,d=e.listSearchParams,c=e.columns,i=e.dataList,s=e.parentTabs,u={furnaceOptions:t,shiftCodeOptions:a,productsOptions:n,dataDetail:d,handleSearch:this.handleSearch,onChange:this.handleFormChange},p=(0,l["default"])({loading:o,columns:c,data:i,bordered:!0,scroll:{x:2e3},handleTabChange:this.handleTabChange,handleTableChange:this.handleTableChange,parentTabs:s,childTabs:null,currentTab:d.reportType},u);return 0===s.length?g["default"].createElement("h1",{style:{marginLeft:"40%"}},"\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u542f\u5f53\u524d\u9875\u9762"):g["default"].createElement(r["default"],{spinning:o},g["default"].createElement(P,p))}}]),t}(g.Component),c=i))||c),I=F;t["default"]=I}}]);