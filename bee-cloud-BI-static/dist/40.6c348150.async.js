(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{t3IO:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,a("IzEo");var o=r(a("bx4M"));a("miYZ");var d=r(a("tsqr")),i=r(a("p0pE")),s=r(a("2Taf")),l=r(a("vZ4D")),c=r(a("l4Ni")),u=r(a("ujKo")),p=r(a("MhPg"));a("y8nQ");var f=r(a("Vl3Y"));a("+L6B");var m,h,g,y=r(a("2/Rp")),b=n(a("q1tI")),I=a("MuoO"),v=r(a("3a4m")),T=a("M7Dx"),O=r(a("DIuU")),k=r(a("x3fC")),C=a("mWaa"),D=function(e){var t=e.handleSearch,a=e.form.getFieldDecorator,r=e.productsOptions,n=function(e){e.preventDefault(),t&&t()},o={};return b["default"].createElement(f["default"],{layout:"inline",onSubmit:n},b["default"].createElement(T.FormItemInputSearch,{getFieldDecorator:a,label:"",fieldId:"contractNum",required:!1,inputProps:{placeholder:"\u6309\u91c7\u8d2d/\u9500\u552e\u8ba2\u5355\u7f16\u53f7\u641c\u7d22"},formItemLayout:o}),b["default"].createElement(T.FormItemSelect,{getFieldDecorator:a,label:"\u4ea7\u54c1",fieldId:"productId",required:!1,selectProps:{options:r},formItemLayout:o}),b["default"].createElement(T.FormItemSelect,{getFieldDecorator:a,label:"\u5408\u540c\u7c7b\u578b",fieldId:"businessType",required:!1,selectProps:{options:C.businessTypeOptions},formItemLayout:o}),b["default"].createElement(T.FormItemRangePicker,{getFieldDecorator:a,label:"\u521b\u5efa\u65e5\u671f",fieldId:"dateRange",required:!1,formItemLayout:o,datePickerProps:{format:"YYYY-MM-DD"},dateFormat:"YYYY-MM-DD"}),b["default"].createElement(f["default"].Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},b["default"].createElement(y["default"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2")))},S=(0,T.CustomFormHOC)(D),P=(m=(0,I.connect)(function(e){var t=e.LogisticsOrder,a=e.loading;return{productsOptions:t.productsOptions,listSearchParams:t.listSearchParams,dataObj:t.dataObj,loading:a.effects["LogisticsOrder/getListEffect"]}}),m((g=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=(0,c["default"])(this,(e=(0,u["default"])(t)).call.apply(e,[this].concat(n))),a.handleSearch=function(){a.getTableData({payload:{currentPage:1,pageSize:10}})},a.handleFormChange=function(e){var t=a.props.dispatch;t({type:"LogisticsOrder/cacheSearchParamsReduce",payload:e})},a.handleTableChange=function(e){var t={currentPage:e.current,pageSize:e.pageSize};a.getTableData({payload:t})},a.getSearchOptions=function(e){var t=e.productsOptions,r=a.props.listSearchParams,n=(0,i["default"])({},r,{productId:t[0].value,businessType:C.businessTypeOptions[0].value,contractNum:""});a.handleFormChange(n),a.getTableData({payload:n})},a.handleCheckDetail=function(e){try{_czc1.push(["_trackEvent","\u7269\u6d41\u8ba2\u5355","\u67e5\u770b\u8be6\u60c5","","",""])}catch(e){}var t=e.contractBusinessId,a=e.businessType;v["default"].push({pathname:"/logisticsManage/order/detail",query:{contractBusinessId:t,businessType:a}})},a.getTableData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={payload:e.payload||{}},r={sort:"desc"},n=a.props,o=n.listSearchParams,s=n.dispatch,l=(0,i["default"])({},o,t.payload),c=null;c=l.dateRange?(0,i["default"])({},l.dateRange):{startTime:l.startTime,endTime:l.endTime};var u=l.productId,p=l.currentPage,f=l.pageSize,m=l.searchCount,h=l.contractNum,g=l.businessType,y=(0,i["default"])({currentPage:p,pageSize:f,searchCount:m,contractNum:h,businessType:g,productId:u},r,c,{dateRange:c});s({type:"LogisticsOrder/getListEffect",payload:y,callback:function(e,t,a){"error"===t&&d["default"].error(a)}})},a}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"LogisticsOrder/getProductsEffect",callback:function(t,a,r){"ok"===a&&e.getSearchOptions({productsOptions:t})}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.productsOptions,r=t.listSearchParams,n=t.dataObj,d=[{title:"\u4e1a\u52a1\u5408\u540c\u7f16\u53f7",dataIndex:"contractNum",key:"contractNum"},{title:"\u5408\u540c\u7c7b\u578b",dataIndex:"businessTypeName",key:"businessTypeName"},{title:"\u4ea7\u54c1",dataIndex:"productName",key:"productName"},{title:"\u5408\u540c\u6570\u91cf",dataIndex:"quantity",key:"quantity"},{title:"\u8d77\u70b9",dataIndex:"originAddress",key:"originAddress"},{title:"\u7ec8\u70b9",dataIndex:"endAddress",key:"endAddress"},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"createTime",key:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,a){return b["default"].createElement("span",null,b["default"].createElement("a",{onClick:function(){return e.handleCheckDetail(a)}},"\u67e5\u770b\u8be6\u60c5"))}}],i={loading:!1,columns:d,data:n,onChange:this.handleTableChange,bordered:!1,scroll:{}},s={dataDetail:r,onChange:this.handleFormChange,productsOptions:a,handleSearch:this.handleSearch};return b["default"].createElement(o["default"],{className:k["default"].cardContainer},b["default"].createElement(S,s),b["default"].createElement(O["default"],i))}}]),t}(b.Component),h=g))||h);t["default"]=P},x3fC:function(e,t,a){e.exports={cardContainer:"cardContainer___3Gpya"}}}]);