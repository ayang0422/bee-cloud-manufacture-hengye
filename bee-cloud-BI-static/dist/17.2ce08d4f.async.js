(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"06TQ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=a("ABDx"),l={getRecoveryRate:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/recoveryRate")},type:"POST"},getPowerFactor:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/powerFactor")},type:"GET"},getProductSpec:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/productSpec")},type:"POST"},getProduction:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/production")},type:"POST"},getPowerConsume:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/powerConsume")},type:"POST"},getPowerTonConsume:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/powerTonConsume")},type:"POST"},getMaterialConsume:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/materialConsume")},type:"POST"},getMaterialTonConsume:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/materialTonConsume")},type:"POST"},getDeviceInspection:{api:function(){return"".concat(n.api_factory_prefix,"/proStatisticController/deviceInspection")},type:"GET"}};t["default"]=l},"0X2M":function(e,t,a){e.exports={container:"container___10kOk",col_header:"col_header___Py9AZ",group:"group___1bUSB",wraper:"wraper___3owKs",col_header_2:"col_header_2___1-2nr"}},"2v+s":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI")),u=n(a("2Taf")),o=n(a("vZ4D")),i=n(a("l4Ni")),d=n(a("ujKo")),c=n(a("MhPg")),f=n(a("Faf7")),s=n(a("N7F/")),p=n(a("90XT")),m=n(a("Ai4V")),g=n(a("nK2h")),y=n(a("0X2M")),h=a("HeSz"),v=function(e){function t(){var e,a;(0,u["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,i["default"])(this,(e=(0,d["default"])(t)).call.apply(e,[this].concat(l))),a.state={configs:[]},a}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"componentDidMount",value:function(){var e=this;try{_czc1.push(["_trackEvent","\u67e5\u770b\u770b\u677f","\u67e5\u770b\u751f\u4ea7","","",""])}catch(e){}(0,h.getConfig)("produce").then(function(t){if(1===t.code){var a=[];t.object.forEach(function(e){a.push(e.code)}),e.setState({configs:a})}})}},{key:"render",value:function(){var e=this.state.configs;return r["default"].createElement("div",{className:y["default"].container},e.includes("30008")?r["default"].createElement(f["default"],null):null,e.includes("30012")?r["default"].createElement(s["default"],null):null,e.includes("30014")?r["default"].createElement(m["default"],null):null,e.includes("30016")?r["default"].createElement(p["default"],null):null,e.includes("30017")?r["default"].createElement(g["default"],null):null)}}]),t}(r.Component);t["default"]=v},"5ZO7":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("2Taf")),p=n(a("vZ4D")),m=n(a("l4Ni")),g=n(a("ujKo")),y=n(a("rlhR")),h=n(a("MhPg")),v=n(a("SnHP")),E=a("yP6+"),T=n(a("cQSq")),b=a("m+Vg"),k=T["default"].DataView,w=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,m["default"])(this,(e=(0,g["default"])(t)).call.apply(e,[this].concat(l))),a.state={goodsType:1,data:[],total:0,loading:!1},a.getBaseData=function(e){var t=(0,y["default"])(a);a.setState({loading:!0},function(){(0,b.getOnTheWay)(e).then(function(a){if(1===a.code){var n=0;a.object.forEach(function(e){n+=e.productNumber||0}),t.setState({data:a.object,total:n})}t.setState({goodsType:e,loading:!1})})})},a.onChangeType=function(e){a.getBaseData(e)},a.legendData=function(e){var t=a.state,n=t.data,l=t.total,r="";return n.forEach(function(t,a){e===t.productName&&(r=t)}),0===l?"".concat(e,"\uff1a0% ").concat(r.productNumber,"\u5428"):"".concat(e,"\uff1a").concat((r.productNumber/l*100).toFixed(2),"% ").concat(r.productNumber,"\u5428")},a}return(0,h["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){this.getBaseData(1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.goodsType,n=t.data,l=t.total,s=t.loading,p=new k;return p.source(n).transform({type:"percent",field:"productNumber",dimension:"productName",as:"percent"}),r["default"].createElement(u["default"],{title:"\u5728\u9014\u60c5\u51b5"},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:s},r["default"].createElement("div",{className:v["default"].col_header},r["default"].createElement("span",null,"\u5728\u9014\u5e93\u5b58"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeType(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u5176\u4ed6"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(E.Chart,{height:400,data:p,scale:{percent:{formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[60,240,60,0],forceFit:!0},r["default"].createElement(E.Coord,{type:"theta",radius:1,innerRadius:.75}),r["default"].createElement(E.Axis,{name:"percent"}),r["default"].createElement(E.Legend,{position:"right-center",offsetX:-30,useHtml:!0,containerTpl:'<div class="g2-legend" style="position:absolute;top:20px;right:0px;width:auto;"><ul class="g2-legend-list" style="list-style-type:none;margin:0;padding:0;"></ul></div>',itemTpl:'<li class="g2-legend-list-item item-{index} {checked}" data-color="{originColor}" data-value="{originValue}" style="cursor: pointer;font-size: 14px;"><i class="g2-legend-marker" style="width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:10px;background-color: {color};"></i><span class="g2-legend-text">{value}</span></li>',itemMarginBottom:10,itemFormatter:function(t){return e.legendData(t)},textStyle:{fill:"#333333",fontSize:"14"}}),r["default"].createElement(E.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(E.Guide,null,r["default"].createElement(E.Guide.Html,{position:["50%","50%"],html:"<div style='color:#333333;font-size:18px;text-align: center;'>\u5728\u9014<br><span style='color:#333333;font-size:20px;font-weight: bold'>".concat(l.toFixed(2),"\u5428</span></div>"),alignX:"middle",alignY:"middle"})),r["default"].createElement(E.Geom,{type:"intervalStack",position:"percent",color:"productName",style:{lineWidth:5,stroke:"#fff"},tooltip:["productName*percent",function(e,t){return t=(100*t).toFixed(2)+"%",{name:e,value:t}}]}))))))}}]),t}(r.Component);t["default"]=w},"90XT":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("14J3");var u=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("IzEo");var i=n(a("bx4M"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub")),f=n(a("p0pE")),s=n(a("2Taf")),p=n(a("vZ4D")),m=n(a("l4Ni")),g=n(a("ujKo")),y=n(a("MhPg")),h=n(a("0X2M")),v=a("yP6+"),E=n(a("Ki8k")),T=a("VgJl"),b=n(a("cQSq")),k=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,m["default"])(this,(e=(0,g["default"])(t)).call.apply(e,[this].concat(l))),a.state={params1:{timeRange:3,startTime:"",endTime:"",productId:0},params2:{timeRange:3,startTime:"",endTime:""},fields1:[],fields2:[],data1:[],totalNum1:0,data2:[],loading1:!1,loading2:!1},a.getPowerConsume=function(e){var t=a.state.params1,n=t.startTime,l=t.endTime,r=t.productId,u=t.timeRange;a.setState({loading1:!0},function(){var t=(0,f["default"])({startTime:n,endTime:l,productId:r,timeRange:u},e);if(a.setState({params1:(0,f["default"])({},t)}),!t.productId)try{delete t.productId}catch(e){}(0,T.getPowerConsume)(t).then(function(e){var t=[],n=0,l=[];1===e.code&&e.object&&e.object.furnaces&&(e.object.furnaces.forEach(function(e){var a={};for(var n in e)"name"!==n?(l.includes(n+".")||l.push(n+"."),a[n+"."]=e[n]):a.name=e[n];t.push(a)}),n=e.object.totalNum1),l=l.sort(function(e,t){return Number(e.replaceAll("-",""))-Number(t.replaceAll("-",""))}),a.setState({loading1:!1,data1:t,totalNum1:n,fields1:l})})})},a.getPowerTonConsume=function(e){var t=a.state.params2,n=t.startTime,l=t.endTime,r=t.timeRange;a.setState({loading2:!0},function(){var t=(0,f["default"])({startTime:n,endTime:l,timeRange:r},e);a.setState({params2:(0,f["default"])({},t)}),(0,T.getPowerTonConsume)(t).then(function(e){var t=[];if(1===e.code){var n=e.object.furnaces&&e.object.furnaces.length?e.object.furnaces[0]:{};if(e.object&&n){for(var l in n)t.push({name:l,value:n[l]});a.setState({data2:t})}}a.setState({data2:t,loading2:!1})})})},a.changeTime=function(e,t){var n=e.timeType,l=e.dateStrings;if(!l[0]||!l[1])return!1;1===t?a.getPowerConsume({timeRange:3===n?3:1,startTime:l[0],endTime:l[1]}):a.getPowerTonConsume({timeRange:3===n?3:1,startTime:l[0],endTime:l[1]})},a}return(0,y["default"])(t,e),(0,p["default"])(t,[{key:"productChange",value:function(e,t){1===t?this.getPowerConsume({productId:e}):this.getPowerTonConsume({productId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading1,n=t.loading2,l=t.data1,f=t.data2,s=(t.params1,t.fields1);t.params2;return r["default"].createElement(u["default"],null,r["default"].createElement(o["default"],{span:12},r["default"].createElement(i["default"],{title:"\u7535\u529b\u6d88\u8017",extra:r["default"].createElement(E["default"],{showOne:!1,checkLength:!0,onChange:function(t){return e.changeTime(t,1)}})},r["default"].createElement(d["default"],{spinning:a},r["default"].createElement("p",{className:h["default"].col_header},r["default"].createElement("span",null,"\u6d88\u8017")),r["default"].createElement("div",{className:h["default"].wraper},l&&l.length?r["default"].createElement(w,{data:l,field:s}):r["default"].createElement(c["default"],null))))),r["default"].createElement(o["default"],{span:12,style:{marginLeft:0}},r["default"].createElement(i["default"],{title:"\u7535\u529b\u6d88\u8017",extra:r["default"].createElement(E["default"],{showOne:!1,checkLength:!0,onChange:function(t){return e.changeTime(t,2)}})},r["default"].createElement(d["default"],{spinning:n},r["default"].createElement("p",{className:h["default"].col_header},r["default"].createElement("span",null,"\u5428\u7535\u8017")),r["default"].createElement("div",{className:h["default"].wraper},f&&f.length?r["default"].createElement(C,{data:f}):r["default"].createElement(c["default"],null))))))}}]),t}(r.Component);t["default"]=k;var w=function(e){var t=e.data,a=(e.cols,e.name,e.field),n=new b["default"],l=n.createView().source(t).transform({type:"fold",fields:a,key:"\u540d\u5b57",value:"\u6570\u91cf"});return r["default"].createElement(v.Chart,{height:400,data:l,padding:[60,80,80,100],forceFit:!0},r["default"].createElement(v.Legend,{position:"top"}),r["default"].createElement(v.Axis,{name:"\u540d\u5b57"}),r["default"].createElement(v.Axis,{name:"\u6570\u91cf",label:{formatter:function(e,t,a){return e+"\u5ea6"}}}),r["default"].createElement(v.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(v.Geom,{type:"intervalStack",position:"\u540d\u5b57*\u6570\u91cf",color:"name"}))},C=function(e){var t=e.data;e.cols,e.name,e.field;return r["default"].createElement(v.Chart,{height:400,data:t,scale:{sales:{tickInterval:20}},padding:[60,80,80,100],forceFit:!0},r["default"].createElement(v.Axis,{name:"name"}),r["default"].createElement(v.Axis,{name:"value",label:{formatter:function(e,t,a){return e+"\u5ea6"}}}),r["default"].createElement(v.Tooltip,{crosshairs:{type:"cross"},itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">\u5428\u7535\u8017\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(v.Geom,{type:"interval",position:"name*value"}))}},Ai4V:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("14J3");var u=n(a("BMrR"));a("7Kak");var o=n(a("9yH6"));a("jCWc");var i=n(a("kPKH"));a("IzEo");var d=n(a("bx4M"));a("T2oS");var c=n(a("W9HT"));a("R9oj");var f=n(a("ECub"));a("OaEy");var s=n(a("2fM7")),p=n(a("gWZ8")),m=n(a("p0pE")),g=n(a("2Taf")),y=n(a("vZ4D")),h=n(a("l4Ni")),v=n(a("ujKo")),E=n(a("MhPg")),T=n(a("0X2M")),b=a("yP6+"),k=n(a("Ki8k")),w=a("VgJl"),C=n(a("cQSq")),x=a("3eXy"),S=function(e){function t(){var e,a;(0,g["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,h["default"])(this,(e=(0,v["default"])(t)).call.apply(e,[this].concat(l))),a.state={params1:{timeRange:3,startTime:"",endTime:"",productId:0},params2:{timeRange:3,startTime:"",endTime:"",productId:0,materialType:-1},fields1:[],fields2:[],data1:[],data2:[],deviceList:[{name:"\u5168\u90e8",id:-1},{name:"\u4e3b\u6599",id:0},{name:"\u8f85\u6599",id:1}],productList:[{name:"\u5168\u90e8",id:0}],loading1:!1,loading2:!1},a.getMaterialConsume=function(e){var t=a.state.params1,n=t.startTime,l=t.endTime,r=t.productId,u=t.timeRange;a.setState({loading1:!0},function(){var t=(0,m["default"])({startTime:n,endTime:l,productId:r,timeRange:u},e);if(a.setState({params1:(0,m["default"])({},t)}),!t.productId)try{delete t.productId}catch(e){}(0,w.getMaterialConsume)(t).then(function(e){var t=[],n=[];1===e.code&&e.object&&e.object.furnaces&&e.object.furnaces.forEach(function(e){var a={};for(var l in e)"name"!==l?(n.includes(l+".")||n.push(l+"."),a[l+"."]=e[l]):a.name=e[l];t.push(a)}),n=n.sort(function(e,t){return Number(e.replaceAll("-",""))-Number(t.replaceAll("-",""))}),a.setState({loading1:!1,fields1:n,data1:t})})})},a.getMaterialTonConsume=function(e){var t=a.state.params2,n=t.startTime,l=t.endTime,r=t.productId,u=t.timeRange,o=t.materialType;a.setState({loading2:!0},function(){var t=(0,m["default"])({startTime:n,endTime:l,productId:r,timeRange:u,materialType:o},e);if(a.setState({params2:(0,m["default"])({},t)}),!t.productId)try{delete t.productId}catch(e){}if(-1===t.materialType)try{delete t.materialType}catch(e){}(0,w.getMaterialTonConsume)(t).then(function(e){var t=[];if(1===e.code){var n=e.object.furnaces&&e.object.furnaces.length?e.object.furnaces[0]:{};if(e.object&&n){for(var l in n)t.push({name:l,value:n[l]});a.setState({data2:t})}}a.setState({data2:t,loading2:!1})})})},a.changeTime=function(e,t){var n=e.timeType,l=e.dateStrings;if(!l[0]||!l[1])return!1;1===t?a.getMaterialConsume({timeRange:3===n?3:1,startTime:l[0],endTime:l[1]}):a.getMaterialTonConsume({timeRange:3===n?3:1,startTime:l[0],endTime:l[1]})},a}return(0,E["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){this.getProductListByCategory()}},{key:"getProductListByCategory",value:function(){var e=this;(0,x.getProductListByCategory)(3).then(function(t){e.setState({productList:[{name:"\u5168\u90e8",id:0}].concat((0,p["default"])(t))})})}},{key:"onChangePrice",value:function(e){this.getMaterialTonConsume({materialType:e})}},{key:"productChange",value:function(e,t){1===t?this.getMaterialConsume({productId:e}):this.getMaterialTonConsume({productId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading1,n=t.loading2,l=t.data1,p=t.data2,m=t.productList,g=t.params1,y=t.deviceList,h=(t.fields2,t.fields1),v=t.params2;t.materialType;return r["default"].createElement(u["default"],null,r["default"].createElement(i["default"],{span:12},r["default"].createElement(d["default"],{title:"\u539f\u6599\u6d88\u8017",extra:r["default"].createElement(k["default"],{showOne:!1,checkLength:!0,onChange:function(t){return e.changeTime(t,1)}})},r["default"].createElement(c["default"],{spinning:a},r["default"].createElement("p",{className:T["default"].col_header},r["default"].createElement("span",null,"\u6d88\u8017"),r["default"].createElement(s["default"],{style:{width:120},value:g.productId,onChange:function(t){return e.productChange(t,1)}},m&&m.length?m.map(function(e){return r["default"].createElement(s["default"].Option,{value:e.id,key:e.id},e.name)}):null)),r["default"].createElement("div",{className:T["default"].wraper},l&&l.length?r["default"].createElement(_,{data:l,field:h}):r["default"].createElement(f["default"],null))))),r["default"].createElement(i["default"],{span:12,style:{marginLeft:0}},r["default"].createElement(d["default"],{title:"\u539f\u6599\u6d88\u8017",extra:r["default"].createElement(k["default"],{showOne:!1,checkLength:!0,onChange:function(t){return e.changeTime(t,2)}})},r["default"].createElement(c["default"],{spinning:n},r["default"].createElement("p",{className:T["default"].col_header},r["default"].createElement("span",null,"\u5428\u8017"),r["default"].createElement("div",{className:T["default"].group},r["default"].createElement(o["default"].Group,{onChange:function(t){return e.onChangePrice(t.target.value)},value:v.materialType},y&&y.length?y.map(function(e){return r["default"].createElement(o["default"].Button,{value:e.id,key:e.id},e.name)}):null),r["default"].createElement(s["default"],{style:{width:120,marginLeft:10},value:v.productId,onChange:function(t){return e.productChange(t,2)}},m&&m.length?m.map(function(e){return r["default"].createElement(s["default"].Option,{value:e.id,key:e.id},e.name)}):null))),r["default"].createElement("div",{className:T["default"].wraper},p&&p.length?r["default"].createElement(P,{data:p}):r["default"].createElement(f["default"],null))))))}}]),t}(r.Component);t["default"]=S;var _=function(e){var t=e.data,a=(e.cols,e.name,e.field),n=new C["default"],l=n.createView().source(t).transform({type:"fold",fields:a,key:"\u540d\u5b57",value:"\u6570\u91cf"});return r["default"].createElement(b.Chart,{height:460,data:l,forceFit:!0,padding:[60,60,100,100]},r["default"].createElement(b.Legend,{position:"top"}),r["default"].createElement(b.Axis,{name:"\u540d\u5b57"}),r["default"].createElement(b.Axis,{name:"\u6570\u91cf",label:{formatter:function(e,t,a){return e+"\u5428"}}}),r["default"].createElement(b.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(b.Geom,{type:"intervalStack",position:"\u540d\u5b57*\u6570\u91cf",color:"name",style:{stroke:"#fff",lineWidth:1}}))},P=function(e){var t=e.data;e.cols,e.name,e.field;return r["default"].createElement(b.Chart,{height:460,data:t,scale:{sales:{tickInterval:20}},padding:[60,80,80,100],forceFit:!0},r["default"].createElement(b.Axis,{name:"name"}),r["default"].createElement(b.Axis,{name:"value",label:{formatter:function(e,t,a){return e+"\u5428"}}}),r["default"].createElement(b.Tooltip,{crosshairs:{type:"cross"},itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">\u5428\u8017\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(b.Geom,{type:"interval",position:"name*value"}))}},Boay:function(e,t,a){e.exports={container:"container___2Fi6Q",col_header:"col_header___1gJpx",col_header_2:"col_header_2___3uYUB"}},Faf7:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("OaEy");var i=n(a("2fM7"));a("jCWc");var d=n(a("kPKH"));a("T2oS");var c=n(a("W9HT"));a("R9oj");var f=n(a("ECub")),s=n(a("gWZ8")),p=n(a("p0pE")),m=n(a("2Taf")),g=n(a("vZ4D")),y=n(a("l4Ni")),h=n(a("ujKo")),v=n(a("MhPg")),E=n(a("0X2M")),T=a("yP6+"),b=n(a("Ki8k")),k=a("VgJl"),w=a("3eXy"),C=a("LvDl"),x=(a("r4fA"),T.Guide.Html),S=T.Guide.Arc;T.Shape.registerShape("point","pointer",{drawShape:function(e,t){var a=e.points[0];a=this.parsePoint(a);var n=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:n.x,y1:n.y,x2:a.x,y2:a.y,stroke:e.color,lineWidth:5,lineCap:"round"}}),t.addShape("circle",{attrs:{x:n.x,y:n.y,r:12,stroke:e.color,lineWidth:4.5,fill:"#fff"}})}});var _={value:{min:0,max:100,tickInterval:10,nice:!0}},P=function(e){function t(){var e,a;(0,m["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,y["default"])(this,(e=(0,h["default"])(t)).call.apply(e,[this].concat(l))),a.state={startTime:"",endTime:"",recoveryData:[],productList:[{name:"\u5168\u90e8",id:0}],productId:0,recoveryLoading:!1,amountData:[],amountTotal:0,amountLoading:!1,powerFactor:[]},a.getRecoveryRate=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.productId;a.setState({recoveryLoading:!0},function(){var t=(0,p["default"])({startTime:n,endTime:l,productId:r},e);if(a.setState({startTime:t.startTime,endTime:t.endTime,productId:t.productId}),!t.productId)try{delete t.productId}catch(e){}(0,k.getRecoveryRate)(t).then(function(e){1===e.code&&a.setState({recoveryData:e.object}),a.setState({recoveryLoading:!1})})})},a.getRecoveryRate=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.productId;a.setState({recoveryLoading:!0},function(){var t=(0,p["default"])({startTime:n,endTime:l,productId:r},e);if(a.setState({startTime:t.startTime,endTime:t.endTime,productId:t.productId}),!t.productId)try{delete t.productId}catch(e){}(0,k.getRecoveryRate)(t).then(function(e){1===e.code&&a.setState({recoveryData:e.object}),a.setState({recoveryLoading:!1})})})},a.changeTime=function(e){e.timeType;var t=e.dateStrings;a.getRecoveryRate({startTime:t[0],endTime:t[1]})},a}return(0,v["default"])(t,e),(0,g["default"])(t,[{key:"componentDidMount",value:function(){this.getProductListByCategory(),this.getPowerFactor()}},{key:"getProductListByCategory",value:function(){var e=this;(0,w.getProductListByCategory)(3).then(function(t){e.setState({productList:[{name:"\u5168\u90e8",id:0}].concat((0,s["default"])(t))})})}},{key:"getPowerFactor",value:function(){var e=this;(0,k.getPowerFactor)().then(function(t){1===t.code&&(0,C.isArray)(t.object)&&e.setState({powerFactor:t.object})})}},{key:"productChange",value:function(e,t){this.getRecoveryRate({productId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.recoveryLoading,n=t.amountLoading,l=t.recoveryData,s=t.productList,p=t.productId,m=t.powerFactor;return r["default"].createElement(u["default"],{title:"\u751f\u4ea7\u6570\u636e",extra:r["default"].createElement(b["default"],{onChange:this.changeTime})},r["default"].createElement(o["default"],null,r["default"].createElement(d["default"],{span:12},r["default"].createElement(c["default"],{spinning:a},r["default"].createElement("p",{className:E["default"].col_header},r["default"].createElement("span",null,"\u529f\u7387\u56e0\u6570")),r["default"].createElement("div",{className:E["default"].wraper},m&&m.length?m.map(function(e){return r["default"].createElement(B,{name:e.deviceId,data:[{value:10*e.pf}],cols:_})}):r["default"].createElement(f["default"],null)))),r["default"].createElement(d["default"],{span:12},r["default"].createElement(c["default"],{spinning:n},r["default"].createElement("p",{className:E["default"].col_header},r["default"].createElement("span",null,"\u56de\u6536\u7387"),r["default"].createElement(i["default"],{style:{width:120},value:p,onChange:function(t){return e.productChange(t,1)}},s&&s.length?s.map(function(e){return r["default"].createElement(i["default"].Option,{value:e.id,key:e.id},e.name)}):null)),r["default"].createElement("div",{className:E["default"].wraper},l&&l.length?l.map(function(e){return r["default"].createElement(B,{name:e.furnaceName,data:[{value:e.recoveryRate/10}],cols:_})}):r["default"].createElement(f["default"],null))))))}}]),t}(r.Component);t["default"]=P;var B=function(e){var t=e.data,a=e.cols,n=e.name;return r["default"].createElement(T.Chart,{height:400,width:360,data:t,scale:a,padding:[0,0,50,0]},r["default"].createElement(T.Coord,{type:"polar",startAngle:-9/8*Math.PI,endAngle:1/8*Math.PI,radius:.75}),r["default"].createElement(T.Axis,{name:"value",zIndex:2,line:null,label:{offset:-16,textStyle:{fontSize:18,textAlign:"center",textBaseline:"middle"}},subTickCount:10,subTickLine:{length:-8,stroke:"#fff",strokeOpacity:1},tickLine:{length:-18,stroke:"#fff",strokeOpacity:1}}),r["default"].createElement(T.Axis,{name:"1",visible:!1}),r["default"].createElement(T.Guide,null,r["default"].createElement(S,{zIndex:0,start:[0,.965],end:[100,.965],style:{stroke:"#CBCBCB",lineWidth:12}}),r["default"].createElement(S,{zIndex:1,start:[0,.965],end:[t[0].value,.965],style:{stroke:"#1890FF",lineWidth:12}}),r["default"].createElement(x,{position:["50%","95%"],html:function(){return'<div style="text-align: center;font-size: 12px!important;"><p style="font-size: 1.75em; color: rgba(0,0,0,0.43);margin: 0;">'.concat(n,'</p><p style="font-size: 1.75em;color: rgba(0,0,0,0.85);margin: 0;">').concat((10*(t[0].value||0)).toFixed(2),"%</p></div>")}})),r["default"].createElement(T.Geom,{type:"point",position:"value*1",shape:"pointer",color:"#1890FF",active:!1,style:{stroke:"#fff",lineWidth:1}}))}},GlUy:function(e,t,a){e.exports={container:"container___1eZC3"}},HeSz:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getBoard=i,t.getConfig=c;var l=n(a("d6i3")),r=n(a("1l/V")),u=n(a("YHZ6")),o=n(a("t3Un"));function i(){return d.apply(this,arguments)}function d(){return d=(0,r["default"])(l["default"].mark(function e(){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getBoard.api(),{method:u["default"].getBoard.type}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getConfig.api(t),{method:u["default"].getConfig.type}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}},Ki8k:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("miYZ");var u=n(a("tsqr")),o=n(a("2Taf")),i=n(a("vZ4D")),d=n(a("l4Ni")),c=n(a("ujKo")),f=n(a("MhPg"));a("iQDF");var s=n(a("+eQT")),p=(n(a("17x9")),n(a("vGga"))),m=n(a("wd/R")),g=s["default"].RangePicker,y="YYYY-MM-DD",h=function(e){function t(){var e,a;(0,o["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,d["default"])(this,(e=(0,c["default"])(t)).call.apply(e,[this].concat(l))),a.state={timeType:3,startTime:(0,m["default"])().subtract("months",12).format(y),endTime:(0,m["default"])().format(y)},a.changeTimeType=function(e){var t,n,l=a.props.onChange;0===e?(t=(0,m["default"])().startOf("day").format(y),n=(0,m["default"])().format(y)):1===e?(t=(0,m["default"])().subtract("days",7).format(y),n=(0,m["default"])().format(y)):2===e?(t=(0,m["default"])().subtract("days",30).format(y),n=(0,m["default"])().format(y)):(t=(0,m["default"])().subtract("months",12).format(y),n=(0,m["default"])().format(y)),a.setState({timeType:e,startTime:t,endTime:n},function(){l&&l({timeType:e,dateStrings:[t,n]})})},a.changeTime=function(e){var t=a.props,n=t.checkLength,l=t.onChange,r=a.state.timeType;if(n)if(0===r||1===r||2===r){if((0,m["default"])(e[1]).diff((0,m["default"])(e[0]),"days")>30)return u["default"].warning("\u65f6\u95f4\u5dee\u8ddd\u5927\u4e8e30\u5929\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u65e5\u671f")}else if((0,m["default"])(e[1]).diff((0,m["default"])(e[0]),"months")>12)return u["default"].warning("\u65f6\u95f4\u5dee\u8ddd\u5927\u4e8e12\u4e2a\u6708\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u65e5\u671f");a.setState({startTime:e[0],endTime:e[1]},function(){l&&l({timeType:r,dateStrings:[e[0],e[1]]})})},a}return(0,f["default"])(t,e),(0,i["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.onChange,t=this.state,a=t.timeType,n=t.startTime,l=t.endTime;e&&e({timeType:a,dateStrings:[n,l]})}},{key:"render",value:function(){var e=this,t=this.props.showOne,a=this.state,n=a.timeType,l=a.startTime,u=a.endTime;return r["default"].createElement("div",{className:p["default"].buttonBox},r["default"].createElement("div",{className:p["default"].btn},t?r["default"].createElement("span",{className:0===n?p["default"].span:"",onClick:this.changeTimeType.bind(this,0)},"1\u5929"):null,r["default"].createElement("span",{className:1===n?p["default"].span:"",onClick:this.changeTimeType.bind(this,1)},"7\u5929"),r["default"].createElement("span",{className:2===n?p["default"].span:"",onClick:this.changeTimeType.bind(this,2)},"30\u5929"),r["default"].createElement("span",{className:3===n?p["default"].span:"",onClick:this.changeTimeType.bind(this,3)},"12\u6708")),r["default"].createElement(g,{value:[(0,m["default"])(l),(0,m["default"])(u)],allowClear:!1,format:y,showTime:!1,onChange:function(t,a){return e.changeTime(a)},style:{marginLeft:24}}))}}]),t}(r.Component);t["default"]=h,h.defaultProps={showOne:!0,checkLength:!1,onChange:function(){return!1}}},KvyK:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6"));a("iQDF");var s=n(a("+eQT")),p=n(a("p0pE")),m=n(a("2Taf")),g=n(a("vZ4D")),y=n(a("l4Ni")),h=n(a("ujKo")),v=n(a("rlhR")),E=n(a("MhPg")),T=n(a("SnHP")),b=a("yP6+"),k=(n(a("cQSq")),a("m+Vg")),w=n(a("wd/R")),C="YYYY-MM-DD",x=function(e){function t(){var e,a;(0,m["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,y["default"])(this,(e=(0,h["default"])(t)).call.apply(e,[this].concat(l))),a.state={dateTime:(0,w["default"])().format(C),goodsType:1,oneData:[],oneLoading:!1,twoData:[],twoLoading:!1},a.getBaseOne=function(e){var t=a.state,n=t.dateTime,l=t.goodsType,r=(0,v["default"])(a);a.setState({oneLoading:!0},function(){var t=(0,p["default"])({goodsType:l,dateTime:n},e);(0,k.getStorage)(t).then(function(e){if(1===e.code){var a=[];e.object.forEach(function(e){e.productNumber>=0&&a.push((0,p["default"])({},e))}),r.setState({oneData:a})}r.setState({dateTime:t.dateTime,goodsType:t.goodsType,oneLoading:!1})})})},a.getBaseTwo=function(e){var t=a.state.dateTime,n=(0,v["default"])(a);a.setState({twoLoading:!0},function(){var a=(0,p["default"])({goodsType:4,dateTime:t},e);(0,k.getStorage)(a).then(function(e){if(1===e.code){var t=[];e.object.forEach(function(e){e.productNumber>=0&&t.push((0,p["default"])({},e))}),n.setState({twoData:t})}n.setState({dateTime:a.dateTime,twoLoading:!1})})})},a.onChangeOne=function(e){a.getBaseOne({goodsType:e})},a.changeTime=function(e){a.getBaseOne({dateTime:e}),a.getBaseTwo({dateTime:e})},a}return(0,E["default"])(t,e),(0,g["default"])(t,[{key:"componentDidMount",value:function(){this.getBaseOne({goodsType:1}),this.getBaseTwo()}},{key:"render",value:function(){var e=this,t=this.state,a=t.dateTime,n=t.goodsType,l=t.oneData,p=t.oneLoading,m=t.twoData,g=t.twoLoading;return r["default"].createElement(u["default"],{title:"\u5e93\u5b58\u60c5\u51b5",extra:r["default"].createElement("div",{className:T["default"].buttonBox},r["default"].createElement(s["default"],{style:{marginLeft:24},allowClear:!1,format:C,onChange:function(t,a){return e.changeTime(a)},value:(0,w["default"])(a)}))},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:12},r["default"].createElement(d["default"],{spinning:p},r["default"].createElement("div",{className:T["default"].col_header},r["default"].createElement("span",null,"\u539f\u6599\u5e93\u5b58\u60c5\u51b5"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeOne(t.target.value)},value:n},r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u5176\u4ed6"))),0===l.length?r["default"].createElement(c["default"],null):r["default"].createElement(b.Chart,{height:400,data:l,padding:[40,80,80,80],forceFit:!0},r["default"].createElement(b.Axis,{name:"productName"}),r["default"].createElement(b.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"productNumber"}),r["default"].createElement(b.Tooltip,{crosshairs:{type:"cross"},itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">\u5e93\u5b58\u91cd\u91cf\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(b.Geom,{type:"interval",position:"productName*productNumber"})))),r["default"].createElement(i["default"],{span:12},r["default"].createElement(d["default"],{spinning:g},r["default"].createElement("p",{className:T["default"].col_header},r["default"].createElement("span",null,"\u6210\u54c1\u5e93\u5b58\u60c5\u51b5")),0===m.length?r["default"].createElement(c["default"],null):r["default"].createElement(b.Chart,{height:400,data:m,padding:[40,80,80,80],forceFit:!0},r["default"].createElement(b.Axis,{name:"productName"}),r["default"].createElement(b.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"productNumber"}),r["default"].createElement(b.Tooltip,{crosshairs:{type:"cross"},itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">\u5e93\u5b58\u91cd\u91cf\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(b.Geom,{type:"interval",position:"productName*productNumber"}))))))}}]),t}(r.Component);t["default"]=x},M8Fl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=a("ABDx"),l={getPrice:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getSaleMoneyRatio")},type:"POST"},getAmount:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getSaleAmountRatio")},type:"POST"},getPay:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getSaleMoneyBackRatio")},type:"POST"},getRatio:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getSalePassRatio")},type:"POST"},getPosition:{api:function(e){return"".concat(n.api_factory_prefix,"/lookBoard/getSaleUnfinishedFinance?type=").concat(e)},type:"GET"},getGoods:{api:function(e){return"".concat(n.api_factory_prefix,"/lookBoard/getSaleUnfinishedGoods")},type:"POST"}};t["default"]=l},MstB:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("p0pE")),p=n(a("2Taf")),m=n(a("vZ4D")),g=n(a("l4Ni")),y=n(a("ujKo")),h=n(a("rlhR")),v=n(a("MhPg")),E=n(a("cRX+")),T=a("yP6+"),b=n(a("Ki8k")),k=n(a("cQSq")),w=a("j/UV"),C=k["default"].DataView,x=function(e){function t(){var e,a;(0,p["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,g["default"])(this,(e=(0,y["default"])(t)).call.apply(e,[this].concat(l))),a.state={startTime:"",endTime:"",priceType:4,priceData:[],priceTotal:0,priceLoading:!1,amountType:4,amountData:[],amountTotal:0,amountLoading:!1,payType:4,payData:[],payTotal:0,payLoading:!1,ratioType:4,ratioData:[],ratioLoading:!1},a.getBasePrice=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.priceType,u=(0,h["default"])(a);a.setState({priceLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getPrice)(t).then(function(e){if(1===e.code){var a=0,n=[];e.object.forEach(function(e){a+=e.money||0,n.push({money:e.money||0,name:4===t.type?e.supplierName:e.productName})}),u.setState({priceData:n,priceTotal:a})}u.setState({startTime:t.startTime,endTime:t.endTime,priceType:t.type,priceLoading:!1})})})},a.getBaseAmount=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.amountType,u=(0,h["default"])(a);a.setState({amountLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getAmount)(t).then(function(e){if(1===e.code){var a=0,n=[];e.object.forEach(function(e){a+=e.amount||0,n.push({amount:e.amount||0,name:4===t.type?e.supplierName:e.productName})}),u.setState({amountData:n,amountTotal:a})}u.setState({startTime:t.startTime,endTime:t.endTime,amountType:t.type,amountLoading:!1})})})},a.getBasePay=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.payType,u=(0,h["default"])(a);a.setState({payLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getPay)(t).then(function(e){if(1===e.code){var a=0,n=[];e.object.forEach(function(e){a+=e.money||0,n.push({money:e.money||0,name:4===t.type?e.supplierName:e.productName})}),u.setState({payData:n,payTotal:a})}u.setState({startTime:t.startTime,endTime:t.endTime,payType:t.type,payLoading:!1})})})},a.getBaseRatio=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.ratioType,u=(0,h["default"])(a);a.setState({ratioLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getRatio)(t).then(function(e){if(1===e.code){var a=[];e.object.forEach(function(e){a.push({name:4===t.type?e.supplierName:e.productName,type:"\u5408\u683c\u7387",ratio:e.passRatio||0},{name:4===t.type?e.supplierName:e.productName,type:"\u4e0d\u5408\u683c\u7387",ratio:e.failureRatio||0})}),u.setState({ratioData:a})}u.setState({startTime:t.startTime,endTime:t.endTime,ratioType:t.type,ratioLoading:!1})})})},a.onChangePrice=function(e){a.getBasePrice({type:e})},a.legendPrice=function(e){var t=a.state,n=t.priceData,l=t.priceTotal,r="";return n.forEach(function(t,a){e===t.name&&(r=t)}),0===l?"".concat(e,"\uff1a0% \uffe5").concat(r.money||0):"".concat(e,"\uff1a").concat((r.money/l*100).toFixed(2),"% \uffe5").concat(r.money||0)},a.onChangeAmount=function(e){a.getBaseAmount({type:e})},a.legendAmount=function(e){var t=a.state,n=t.amountData,l=t.amountTotal,r="";return n.forEach(function(t,a){e===t.name&&(r=t)}),0===l?"".concat(e,"\uff1a0%"):"".concat(e,"\uff1a").concat((r.amount/l*100).toFixed(2),"%")},a.onChangePay=function(e){a.getBasePay({type:e})},a.legendPay=function(e){var t=a.state,n=t.payData,l=t.payTotal,r="";return n.forEach(function(t,a){e===t.name&&(r=t)}),0===l?"".concat(e,"\uff1a0% \uffe5").concat(r.money):"".concat(e,"\uff1a").concat((r.money/l*100).toFixed(2),"% \uffe5").concat(r.money||0)},a.onChangeRatio=function(e){a.getBaseRatio({type:e})},a.changeTime=function(e){e.timeType;var t=e.dateStrings,n=a.state,l=n.priceType,r=n.amountType,u=n.payType,o=n.ratioType;a.getBasePrice({type:l,startTime:t[0],endTime:t[1]}),a.getBaseAmount({type:r,startTime:t[0],endTime:t[1]}),a.getBasePay({type:u,startTime:t[0],endTime:t[1]}),a.getBaseRatio({type:o,startTime:t[0],endTime:t[1]})},a}return(0,v["default"])(t,e),(0,m["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.priceType,n=t.priceData,l=t.priceTotal,s=t.priceLoading,p=t.amountType,m=t.amountData,g=t.amountTotal,y=t.amountLoading,h=t.payType,v=t.payData,w=t.payTotal,x=t.payLoading,S=t.ratioType,_=t.ratioData,P=t.ratioLoading,B=new C;B.source(n).transform({type:"percent",field:"money",dimension:"name",as:"percent"});var j=new C;j.source(m).transform({type:"percent",field:"amount",dimension:"name",as:"percent"});var M=new C;M.source(v).transform({type:"percent",field:"money",dimension:"name",as:"percent"});var A=new k["default"],R=A.createView().source(_).transform({type:"percent",field:"ratio",dimension:"type",groupBy:["name"],as:"percent"});return r["default"].createElement(u["default"],{title:"\u91c7\u8d2d\u6570\u636e",extra:r["default"].createElement(b["default"],{showOne:!0,onChange:this.changeTime})},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:s},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u91c7\u8d2d\u989d"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangePrice(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:B,scale:{percent:{formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[60,440,60,0],forceFit:!0},r["default"].createElement(T.Coord,{type:"theta",radius:1,innerRadius:.75}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Legend,{position:"right-center",offsetX:-80,itemMarginBottom:10,itemFormatter:function(t){return e.legendPrice(t)},textStyle:{fill:"#333333",fontSize:"14"}}),r["default"].createElement(T.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Guide,null,r["default"].createElement(T.Guide.Html,{position:["50%","50%"],html:"<div style='color:#333333;font-size:18px;text-align: center;'>\u91c7\u8d2d\u989d<br><span style='color:#333333;font-size:20px;font-weight: bold'>\uffe5".concat(l.toFixed(2),"</span></div>"),alignX:"middle",alignY:"middle"})),r["default"].createElement(T.Geom,{type:"intervalStack",position:"percent",color:"name",style:{lineWidth:5,stroke:"#fff"},tooltip:["name*percent",function(e,t){return t=(100*t).toFixed(2)+"%",{name:e,value:t}}]}))))),r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:y},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u91c7\u8d2d\u91cf"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeAmount(t.target.value)},value:p},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===m.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:j,scale:{percent:{formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[60,440,60,0],forceFit:!0},r["default"].createElement(T.Coord,{type:"theta",radius:1,innerRadius:.75}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Legend,{position:"right-center",offsetX:-80,itemMarginBottom:10,itemFormatter:function(t){return e.legendAmount(t)},textStyle:{fill:"#333333",fontSize:"14"}}),r["default"].createElement(T.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Guide,null,r["default"].createElement(T.Guide.Html,{position:["50%","50%"],html:"<div style='color:#333333;font-size:18px;text-align: center;'>\u91c7\u8d2d\u91cf<br><span style='color:#333333;font-size:20px;font-weight: bold'>".concat(g.toFixed(2),"\u5428</span></div>"),alignX:"middle",alignY:"middle"})),r["default"].createElement(T.Geom,{type:"intervalStack",position:"percent",color:"name",style:{lineWidth:5,stroke:"#fff"},tooltip:["name*percent",function(e,t){return t=(100*t).toFixed(2)+"%",{name:e,value:t}}]}))))),r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:x},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u91c7\u8d2d\u4ed8\u6b3e\u60c5\u51b5"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangePay(t.target.value)},value:h},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===v.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:M,scale:{percent:{formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[60,440,60,0],forceFit:!0},r["default"].createElement(T.Coord,{type:"theta",radius:1,innerRadius:.75}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Legend,{position:"right-center",offsetX:-80,itemMarginBottom:10,itemFormatter:function(t){return e.legendPay(t)},textStyle:{fill:"#333333",fontSize:"14"}}),r["default"].createElement(T.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Guide,null,r["default"].createElement(T.Guide.Html,{position:["50%","50%"],html:"<div style='color:#333333;font-size:18px;text-align: center;'>\u5df2\u4ed8\u8d26\u6b3e<br><span style='color:#333333;font-size:20px;font-weight: bold'>\uffe5".concat(w.toFixed(2),"</span></div>"),alignX:"middle",alignY:"middle"})),r["default"].createElement(T.Geom,{type:"intervalStack",position:"percent",color:"name",style:{lineWidth:5,stroke:"#fff"},tooltip:["name*percent",function(e,t){return t=(100*t).toFixed(2)+"%",{name:e,value:t}}]}))))),r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:P},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u91c7\u8d2d\u5408\u683c\u7387"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeRatio(t.target.value)},value:S},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===_.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:R,scale:{percent:{min:0,formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[40,140,120,120],forceFit:!0},r["default"].createElement(T.Legend,null),r["default"].createElement(T.Axis,{name:"name"}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Geom,{type:"intervalStack",color:"type",position:"name*percent"}))))))}}]),t}(r.Component);t["default"]=x},"N7F/":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("14J3");var u=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("IzEo");var i=n(a("bx4M"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("OaEy");var f=n(a("2fM7")),s=n(a("gWZ8")),p=n(a("p0pE")),m=n(a("2Taf")),g=n(a("vZ4D")),y=n(a("l4Ni")),h=n(a("ujKo")),v=n(a("MhPg")),E=n(a("0X2M")),T=a("yP6+"),b=n(a("Ki8k")),k=a("VgJl"),w=n(a("cQSq")),C=a("3eXy"),x=function(e){function t(){var e,a;(0,m["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,y["default"])(this,(e=(0,h["default"])(t)).call.apply(e,[this].concat(l))),a.state={params1:{timeRange:3,startTime:"",endTime:"",productId:0},params2:{timeRange:3,startTime:"",endTime:"",productId:0,furnaceId:0},fields1:[],fields2:[],data1:[],data2:[],deviceList:[{name:"\u5168\u90e8",id:0}],furnaceId:0,productList:[{name:"\u5168\u90e8",id:0}],loading1:!1,loading2:!1},a.getProduction=function(e){var t=a.state.params1,n=t.startTime,l=t.endTime,r=t.productId,u=t.timeRange;a.setState({loading1:!0},function(){var t=(0,p["default"])({startTime:n,endTime:l,productId:r,timeRange:u},e);if(a.setState({params1:(0,p["default"])({},t)}),!t.productId)try{delete t.productId}catch(e){}(0,k.getProduction)(t).then(function(e){var t=[],n=[];1===e.code&&e.object&&e.object.furnaces&&e.object.furnaces.forEach(function(e){var a={};for(var l in e)"name"!==l?(n.includes(l+".")||n.push(l+"."),a[l+"."]=e[l]):a.name=e[l];t.push(a)}),n=n.sort(function(e,t){return Number(e.replaceAll("-",""))-Number(t.replaceAll("-",""))}),a.setState({loading1:!1,fields1:n,data1:t})})})},a.getProductSpec=function(e){var t=a.state.params2,n=t.startTime,l=t.endTime,r=t.productId,u=t.timeRange,o=t.furnaceId;a.setState({loading2:!0},function(){var t=(0,p["default"])({startTime:n,endTime:l,productId:r,timeRange:u,furnaceId:o},e);if(a.setState({params2:(0,p["default"])({},t)}),!t.productId)try{delete t.productId}catch(e){}if(!t.furnaceId)try{delete t.furnaceId}catch(e){}(0,k.getProductSpec)(t).then(function(e){var t=[],n=[];1===e.code&&e.object&&e.object.furnaces&&e.object.furnaces.forEach(function(e){var a={};for(var l in e)"name"!==l?(n.includes(l+".")||n.push(l+"."),a[l+"."]=e[l]):a.name=e[l];t.push(a)}),n=n.sort(function(e,t){return Number(e.replaceAll("-",""))-Number(t.replaceAll("-",""))}),a.setState({loading2:!1,fields2:n,data2:t})})})},a.changeTime=function(e,t){var n=e.timeType,l=e.dateStrings;if(!l[0]||!l[1])return!1;1===t?a.getProduction({timeRange:3===n?3:1,startTime:l[0],endTime:l[1]}):a.getProductSpec({timeRange:3===n?3:1,startTime:l[0],endTime:l[1]})},a}return(0,v["default"])(t,e),(0,g["default"])(t,[{key:"componentDidMount",value:function(){this.getDeviceListByType(),this.getProductListByCategory()}},{key:"getDeviceListByType",value:function(){var e=this;(0,C.getDeviceListByType)({types:[0]}).then(function(t){e.setState({deviceList:[{name:"\u5168\u90e8",id:0}].concat((0,s["default"])(t))})})}},{key:"getProductListByCategory",value:function(){var e=this;(0,C.getProductListByCategory)(3).then(function(t){e.setState({productList:[{name:"\u5168\u90e8",id:0}].concat((0,s["default"])(t))})})}},{key:"onChangePrice",value:function(e){this.getProductSpec({furnaceId:e})}},{key:"productChange",value:function(e,t){1===t?this.getProduction({productId:e}):this.getProductSpec({productId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading1,n=t.loading2,l=t.data1,s=t.data2,p=t.productList,m=t.params1,g=t.deviceList,y=t.fields2,h=t.fields1,v=t.params2;return r["default"].createElement(u["default"],null,r["default"].createElement(o["default"],{span:12},r["default"].createElement(i["default"],{title:"\u751f\u4ea7\u6570\u636e",extra:r["default"].createElement(b["default"],{showOne:!1,checkLength:!0,onChange:function(t){return e.changeTime(t,1)}})},r["default"].createElement(d["default"],{spinning:a},r["default"].createElement("p",{className:E["default"].col_header},r["default"].createElement("span",null,"\u4ea7\u91cf"),r["default"].createElement(f["default"],{style:{width:120},value:m.productId,onChange:function(t){return e.productChange(t,1)}},p&&p.length?p.map(function(e){return r["default"].createElement(f["default"].Option,{value:e.id,key:e.id},e.name)}):null)),r["default"].createElement("div",{className:E["default"].wraper},l&&l.length?r["default"].createElement(S,{data:l,field:h}):r["default"].createElement(c["default"],null))))),r["default"].createElement(o["default"],{span:12,style:{marginLeft:0}},r["default"].createElement(i["default"],{title:"\u751f\u4ea7\u6570\u636e",extra:r["default"].createElement(b["default"],{showOne:!1,checkLength:!0,onChange:function(t){return e.changeTime(t,2)}})},r["default"].createElement(d["default"],{spinning:n},r["default"].createElement("p",{className:E["default"].col_header},r["default"].createElement("span",null,"\u4ea7\u51fa\u8d28\u91cf"),r["default"].createElement("div",{className:E["default"].group},r["default"].createElement("div",null," \u7089\u53f7\uff1a",r["default"].createElement(f["default"],{style:{width:200,marginRight:10},value:v.furnaceId,onChange:function(t){return e.onChangePrice(t)}},g&&g.length?g.map(function(e){return r["default"].createElement(f["default"].Option,{value:e.id,key:e.id},e.name)}):null)),r["default"].createElement("div",null," \u4ea7\u54c1\uff1a",r["default"].createElement(f["default"],{style:{width:200},value:v.productId,onChange:function(t){return e.productChange(t,2)}},p&&p.length?p.map(function(e){return r["default"].createElement(f["default"].Option,{value:e.id,key:e.id},e.name)}):null)))),r["default"].createElement("div",{className:E["default"].wraper},s&&s.length?r["default"].createElement(S,{data:s,field:y}):r["default"].createElement(c["default"],null))))))}}]),t}(r.Component);t["default"]=x;var S=function(e){var t=e.data,a=(e.cols,e.name,e.field),n=new w["default"],l=n.createView().source(t).transform({type:"fold",fields:a,key:"\u540d\u5b57",value:"\u6570\u91cf"});return r["default"].createElement(T.Chart,{height:400,data:l,padding:[60,80,80,100],forceFit:!0},r["default"].createElement(T.Legend,{position:"top"}),r["default"].createElement(T.Axis,{name:"\u540d\u5b57"}),r["default"].createElement(T.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"\u6570\u91cf"}),r["default"].createElement(T.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Geom,{type:"intervalStack",position:"\u540d\u5b57*\u6570\u91cf",color:"name",style:{stroke:"#fff",lineWidth:1}}))}},OIzG:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("2Taf")),p=n(a("vZ4D")),m=n(a("l4Ni")),g=n(a("ujKo")),y=n(a("rlhR")),h=n(a("MhPg")),v=n(a("cRX+")),E=a("yP6+"),T=n(a("cQSq")),b=a("j/UV"),k=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,m["default"])(this,(e=(0,g["default"])(t)).call.apply(e,[this].concat(l))),a.state={type:4,data:[],loading:!1},a.getBaseData=function(e){var t=(0,y["default"])(a);a.setState({loading:!0},function(){(0,b.getPosition)(e).then(function(a){if(1===a.code){var n=[];a.object.forEach(function(e){n.push({item:e.item,"\u5df2\u4ed8\u6b3e":e.already,"\u9884\u4ed8\u6b3e":e.expect,"\u5e94\u4ed8\u6b3e":e.should})}),t.setState({data:n})}t.setState({type:e,loading:!1})})})},a.onChangeType=function(e){a.getBaseData(e)},a}return(0,h["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){this.getBaseData(4)}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.data,l=t.loading,s=new T["default"],p=s.createView().source(n);return p.transform({type:"fold",fields:["\u5df2\u4ed8\u6b3e","\u9884\u4ed8\u6b3e","\u5e94\u4ed8\u6b3e"],key:"type",value:"value"}),r["default"].createElement(u["default"],{title:"\u672a\u5b8c\u6210\u4e1a\u52a1\u8d26\u6b3e\u60c5\u51b5"},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:l},r["default"].createElement("div",{className:v["default"].col_header_2},r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeType(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(E.Chart,{height:400,data:p,padding:[60,80,80,200],forceFit:!0},r["default"].createElement(E.Legend,null),r["default"].createElement(E.Coord,{transpose:!0,scale:[1,-1]}),r["default"].createElement(E.Axis,{name:"item",label:{offset:12}}),r["default"].createElement(E.Axis,{name:"value",position:"right"}),r["default"].createElement(E.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(E.Geom,{type:"interval",position:"item*value",color:"type",adjust:[{type:"dodge",marginRatio:1/32}]}))))))}}]),t}(r.Component);t["default"]=k},SINn:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("p0pE")),p=n(a("2Taf")),m=n(a("vZ4D")),g=n(a("l4Ni")),y=n(a("ujKo")),h=n(a("rlhR")),v=n(a("MhPg")),E=n(a("Boay")),T=a("yP6+"),b=n(a("Ki8k")),k=n(a("cQSq")),w=a("vJke"),C=k["default"].DataView,x=function(e){function t(){var e,a;(0,p["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,g["default"])(this,(e=(0,y["default"])(t)).call.apply(e,[this].concat(l))),a.state={startTime:"",endTime:"",priceType:4,priceData:[],priceTotal:0,priceLoading:!1,amountType:4,amountData:[],fields:[],amountLoading:!1,payType:4,payData:[],payTotal:0,payLoading:!1,ratioType:4,ratioData:[],ratioLoading:!1},a.getBasePrice=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.priceType,u=(0,h["default"])(a);a.setState({priceLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getPrice)(t).then(function(e){if(1===e.code){var a=0,n=[];e.object.forEach(function(e){a+=e.money,n.push({money:e.money,name:4===t.type?e.customerName:e.productName})}),u.setState({priceData:n,priceTotal:a})}u.setState({startTime:t.startTime,endTime:t.endTime,priceType:t.type,priceLoading:!1})})})},a.getBaseAmount=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.amountType,u=(0,h["default"])(a);a.setState({amountLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getAmount)(t).then(function(e){if(1===e.code)if(0!==e.object.length){var a=[{name:"\u4ea7\u6210\u54c1\u9500\u552e\u91cf"},{name:"\u603b\u9500\u552e\u91cf"}],n=[];e.object.forEach(function(e){var l=4===t.type?e.customerName:e.productName;a[0][l]=e.endAmount,a[1][l]=e.amount,n.push(l)}),u.setState({amountData:a,fields:n})}else u.setState({amountData:[],fields:[]});u.setState({startTime:t.startTime,endTime:t.endTime,amountType:t.type,amountLoading:!1})})})},a.getBasePay=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.payType,u=(0,h["default"])(a);a.setState({payLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getPay)(t).then(function(e){if(1===e.code){var a=0,n=[];e.object.forEach(function(e){a+=e.money,n.push({money:e.money,name:4===t.type?e.customerName:e.productName})}),u.setState({payData:n,payTotal:a})}u.setState({startTime:t.startTime,endTime:t.endTime,payType:t.type,payLoading:!1})})})},a.getBaseRatio=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.ratioType,u=(0,h["default"])(a);a.setState({ratioLoading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getRatio)(t).then(function(e){if(1===e.code){var a=[];e.object.forEach(function(e){a.push({name:4===t.type?e.customerName:e.productName,type:"\u5408\u683c\u7387",ratio:e.passRatio},{name:4===t.type?e.customerName:e.productName,type:"\u4e0d\u5408\u683c\u7387",ratio:e.failureRatio})}),u.setState({ratioData:a})}u.setState({startTime:t.startTime,endTime:t.endTime,ratioType:t.type,ratioLoading:!1})})})},a.onChangePrice=function(e){a.getBasePrice({type:e})},a.legendPrice=function(e){var t=a.state,n=t.priceData,l=t.priceTotal,r="";return n.forEach(function(t,a){e===t.name&&(r=t)}),0===l?"".concat(e,"\uff1a0% \uffe5").concat(r.money||0):"".concat(e,"\uff1a").concat((r.money/l*100).toFixed(2),"% \uffe5").concat(r.money||0)},a.onChangeAmount=function(e){a.getBaseAmount({type:e})},a.onChangePay=function(e){a.getBasePay({type:e})},a.legendPay=function(e){var t=a.state,n=t.payData,l=t.payTotal,r="";return n.forEach(function(t,a){e===t.name&&(r=t)}),0===l?"".concat(e,"\uff1a0% \uffe5").concat(r.money||0):"".concat(e,"\uff1a").concat((r.money/l*100).toFixed(2),"% \uffe5").concat(r.money||0)},a.onChangeRatio=function(e){a.getBaseRatio({type:e})},a.changeTime=function(e){e.timeType;var t=e.dateStrings,n=a.state,l=n.priceType,r=n.amountType,u=n.payType,o=n.ratioType;a.getBasePrice({type:l,startTime:t[0],endTime:t[1]}),a.getBaseAmount({type:r,startTime:t[0],endTime:t[1]}),a.getBasePay({type:u,startTime:t[0],endTime:t[1]}),a.getBaseRatio({type:o,startTime:t[0],endTime:t[1]})},a}return(0,v["default"])(t,e),(0,m["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.priceType,n=t.priceData,l=t.priceTotal,s=t.priceLoading,p=t.amountType,m=t.amountData,g=t.fields,y=t.amountLoading,h=t.payType,v=t.payData,w=t.payTotal,x=t.payLoading,S=t.ratioType,_=t.ratioData,P=t.ratioLoading,B=new C;B.source(n).transform({type:"percent",field:"money",dimension:"name",as:"percent"});var j=new k["default"],M=j.createView().source(m);M.transform({type:"fold",fields:g,key:"\u4ea7\u54c1\u540d",value:"\u9500\u552e\u91cf"});var A=new C;A.source(v).transform({type:"percent",field:"money",dimension:"name",as:"percent"});var R=new k["default"],N=R.createView().source(_).transform({type:"percent",field:"ratio",dimension:"type",groupBy:["name"],as:"percent"});return r["default"].createElement("div",{className:E["default"].container},r["default"].createElement(u["default"],{title:"\u9500\u552e\u6570\u636e",extra:r["default"].createElement(b["default"],{showOne:!0,onChange:this.changeTime})},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:s},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u9500\u552e\u989d"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangePrice(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:4},"\u5ba2\u6237"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:B,scale:{percent:{formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[60,440,60,0],forceFit:!0},r["default"].createElement(T.Coord,{type:"theta",radius:1,innerRadius:.75}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Legend,{position:"right-center",offsetX:-80,itemMarginBottom:10,itemFormatter:function(t){return e.legendPrice(t)},textStyle:{fill:"#333333",fontSize:"14"}}),r["default"].createElement(T.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Guide,null,r["default"].createElement(T.Guide.Html,{position:["50%","50%"],html:"<div style='color:#333333;font-size:18px;text-align: center;'>\u9500\u552e\u989d<br><span style='color:#333333;font-size:20px;font-weight: bold'>\uffe5".concat(l.toFixed(2),"</span></div>"),alignX:"middle",alignY:"middle"})),r["default"].createElement(T.Geom,{type:"intervalStack",position:"percent",color:"name",style:{lineWidth:5,stroke:"#fff"},tooltip:["name*percent",function(e,t){return t=(100*t).toFixed(2)+"%",{name:e,value:t}}]}))))),r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:y},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u9500\u552e\u91cf"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeAmount(t.target.value)},value:p},r["default"].createElement(f["default"].Button,{value:4},"\u5ba2\u6237"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===m.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:M,padding:[40,140,120,120],forceFit:!0},r["default"].createElement(T.Axis,{name:"\u4ea7\u54c1\u540d"}),r["default"].createElement(T.Axis,{name:"\u9500\u552e\u91cf",label:{formatter:function(e,t,a){return e+"\u5428"}}}),r["default"].createElement(T.Legend,null),r["default"].createElement(T.Tooltip,{crosshairs:{type:"y"},itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Geom,{type:"interval",position:"\u4ea7\u54c1\u540d*\u9500\u552e\u91cf",color:"name",adjust:[{type:"dodge",marginRatio:1/32}]}))))),r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:x},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u9500\u552e\u56de\u6b3e\u60c5\u51b5"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangePay(t.target.value)},value:h},r["default"].createElement(f["default"].Button,{value:4},"\u5ba2\u6237"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===v.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:A,scale:{percent:{formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[60,440,60,0],forceFit:!0},r["default"].createElement(T.Coord,{type:"theta",radius:1,innerRadius:.75}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Legend,{position:"right-center",offsetX:-80,useHtml:!0,containerTpl:'<div class="g2-legend" style="position:absolute;top:20px;right:0px;width:auto;"><ul class="g2-legend-list" style="list-style-type:none;margin:0;padding:0;"></ul></div>',itemTpl:'<li class="g2-legend-list-item item-{index} {checked}" data-color="{originColor}" data-value="{originValue}" style="cursor: pointer;font-size: 14px;"><i class="g2-legend-marker" style="width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:10px;background-color: {color};"></i><span class="g2-legend-text">{value}</span></li>',itemMarginBottom:10,itemFormatter:function(t){return e.legendPay(t)},textStyle:{fill:"#333333",fontSize:"14"}}),r["default"].createElement(T.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Guide,null,r["default"].createElement(T.Guide.Html,{position:["50%","50%"],html:"<div style='color:#333333;font-size:18px;text-align: center;'>\u603b\u56de\u6b3e\u989d<br><span style='color:#333333;font-size:20px;font-weight: bold'>\uffe5".concat(w.toFixed(2),"</span></div>"),alignX:"middle",alignY:"middle"})),r["default"].createElement(T.Geom,{type:"intervalStack",position:"percent",color:"name",style:{lineWidth:5,stroke:"#fff"},tooltip:["name*percent",function(e,t){return t=(100*t).toFixed(2)+"%",{name:e,value:t}}]}))))),r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:P},r["default"].createElement("div",{className:E["default"].col_header},r["default"].createElement("span",null,"\u9500\u552e\u5408\u683c\u7387"),r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeRatio(t.target.value)},value:S},r["default"].createElement(f["default"].Button,{value:4},"\u5ba2\u6237"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===_.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:N,scale:{percent:{min:0,formatter:function(e){return(100*e).toFixed(2)+"%"}}},padding:[40,140,120,120],forceFit:!0},r["default"].createElement(T.Legend,null),r["default"].createElement(T.Axis,{name:"name"}),r["default"].createElement(T.Axis,{name:"percent"}),r["default"].createElement(T.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Geom,{type:"intervalStack",color:"type",position:"name*percent"})))))))}}]),t}(r.Component);t["default"]=x},SnHP:function(e,t,a){e.exports={container:"container___4qDGo",col_header:"col_header___2blnh",col_header_2:"col_header_2___24D4j"}},VgJl:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getRecoveryRate=i,t.getPowerFactor=c,t.getProductSpec=s,t.getProduction=m,t.getPowerConsume=y,t.getPowerTonConsume=v,t.getMaterialConsume=T,t.getMaterialTonConsume=k,t.getDeviceInspection=C;var l=n(a("d6i3")),r=n(a("1l/V")),u=n(a("06TQ")),o=n(a("t3Un"));function i(e){return d.apply(this,arguments)}function d(){return d=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getRecoveryRate.api(),{method:u["default"].getRecoveryRate.type,body:t}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPowerFactor.api(),{method:u["default"].getPowerFactor.type}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return p=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getProductSpec.api(),{method:u["default"].getProductSpec.type,body:t}));case 1:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getProduction.api(),{method:u["default"].getProduction.type,body:t}));case 1:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function y(e){return h.apply(this,arguments)}function h(){return h=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPowerConsume.api(),{method:u["default"].getPowerConsume.type,body:t}));case 1:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function v(e){return E.apply(this,arguments)}function E(){return E=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPowerTonConsume.api(),{method:u["default"].getPowerTonConsume.type,body:t}));case 1:case"end":return e.stop()}},e)})),E.apply(this,arguments)}function T(e){return b.apply(this,arguments)}function b(){return b=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getMaterialConsume.api(),{method:u["default"].getMaterialConsume.type,body:t}));case 1:case"end":return e.stop()}},e)})),b.apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return w=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getMaterialTonConsume.api(),{method:u["default"].getMaterialTonConsume.type,body:t}));case 1:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function C(){return x.apply(this,arguments)}function x(){return x=(0,r["default"])(l["default"].mark(function e(){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getDeviceInspection.api(),{method:u["default"].getDeviceInspection.type}));case 1:case"end":return e.stop()}},e)})),x.apply(this,arguments)}},YBTA:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("p0pE")),p=n(a("2Taf")),m=n(a("vZ4D")),g=n(a("l4Ni")),y=n(a("ujKo")),h=n(a("rlhR")),v=n(a("MhPg")),E=n(a("cRX+")),T=a("yP6+"),b=n(a("Ki8k")),k=n(a("cQSq")),w=a("j/UV"),C=function(e){function t(){var e,a;(0,p["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,g["default"])(this,(e=(0,y["default"])(t)).call.apply(e,[this].concat(l))),a.state={startTime:"",endTime:"",type:4,data:[],fields:[],loading:!1},a.getBaseGoods=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.type,u=(0,h["default"])(a);a.setState({loading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getGoods)(t).then(function(e){if(1===e.code)if(0!==e.object.length){var a=[{name:"\u672a\u5230\u6570\u91cf"},{name:"\u5df2\u6536\u6570\u91cf"}],n=[];e.object.forEach(function(e){a[0][e.item]=e.incomplete,a[1][e.item]=e.already,n.push(e.item)}),u.setState({data:a,fields:n})}else u.setState({data:[],fields:[]});u.setState({startTime:t.startTime,endTime:t.endTime,type:t.type,loading:!1})})})},a.onChangeGoods=function(e){a.getBaseGoods({type:e})},a.changeTime=function(e){e.timeType;var t=e.dateStrings,n=a.state.type;a.getBaseGoods({type:n,startTime:t[0],endTime:t[1]})},a}return(0,v["default"])(t,e),(0,m["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.data,l=t.fields,s=t.loading,p=new k["default"],m=p.createView().source(n);return m.transform({type:"fold",fields:l,key:"\u540d\u5b57",value:"\u6570\u91cf"}),r["default"].createElement(u["default"],{title:"\u5230\u8d27\u60c5\u51b5",extra:r["default"].createElement(b["default"],{showOne:!0,onChange:this.changeTime})},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:s},r["default"].createElement("div",{className:E["default"].col_header_2},r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeGoods(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:m,padding:[60,80,80,100],forceFit:!0},r["default"].createElement(T.Legend,{position:"top"}),r["default"].createElement(T.Axis,{name:"\u540d\u5b57"}),r["default"].createElement(T.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"\u6570\u91cf"}),r["default"].createElement(T.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Geom,{type:"intervalStack",position:"\u540d\u5b57*\u6570\u91cf",color:"name"}))))))}}]),t}(r.Component);t["default"]=C},YHZ6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=a("ABDx"),l={getBoard:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getDataScreen")},type:"GET"},getConfig:{api:function(e){return"".concat(n.api_factory_prefix,"/configLookBoardBi/getEnableLookBoardBiList?type=").concat(e)},type:"GET"}};t["default"]=l},b7d8:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI")),u=n(a("2Taf")),o=n(a("vZ4D")),i=n(a("l4Ni")),d=n(a("ujKo")),c=n(a("MhPg")),f=n(a("Boay")),s=n(a("SINn")),p=n(a("jEHy")),m=n(a("rj+D")),g=a("HeSz"),y=function(e){function t(){var e,a;(0,u["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,i["default"])(this,(e=(0,d["default"])(t)).call.apply(e,[this].concat(l))),a.state={configs:[]},a}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"componentDidMount",value:function(){var e=this;try{_czc1.push(["_trackEvent","\u67e5\u770b\u770b\u677f","\u67e5\u770b\u9500\u552e","","",""])}catch(e){}(0,g.getConfig)("sale").then(function(t){if(1===t.code){var a=[];t.object.forEach(function(e){a.push(e.code)}),e.setState({configs:a})}})}},{key:"render",value:function(){var e=this.state.configs;return r["default"].createElement("div",{className:f["default"].container},e.includes("30018")?r["default"].createElement(s["default"],null):null,e.includes("30022")?r["default"].createElement(p["default"],null):null,e.includes("30023")?r["default"].createElement(m["default"],null):null)}}]),t}(r.Component);t["default"]=y},"cRX+":function(e,t,a){e.exports={container:"container___3GkAS",col_header:"col_header___1U9fl",col_header_2:"col_header_2___1ut0S"}},"j/UV":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getPrice=i,t.getAmount=c,t.getPay=s,t.getRatio=m,t.getPosition=y,t.getGoods=v;var l=n(a("d6i3")),r=n(a("1l/V")),u=n(a("s9oR")),o=n(a("t3Un"));function i(e){return d.apply(this,arguments)}function d(){return d=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPrice.api(),{method:u["default"].getPrice.type,body:t}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getAmount.api(),{method:u["default"].getAmount.type,body:t}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return p=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPay.api(),{method:u["default"].getPay.type,body:t}));case 1:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getRatio.api(),{method:u["default"].getRatio.type,body:t}));case 1:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function y(e){return h.apply(this,arguments)}function h(){return h=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPosition.api(t),{method:u["default"].getPosition.type}));case 1:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function v(e){return E.apply(this,arguments)}function E(){return E=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getGoods.api(),{method:u["default"].getGoods.type,body:t}));case 1:case"end":return e.stop()}},e)})),E.apply(this,arguments)}},jEHy:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("2Taf")),p=n(a("vZ4D")),m=n(a("l4Ni")),g=n(a("ujKo")),y=n(a("rlhR")),h=n(a("MhPg")),v=n(a("Boay")),E=a("yP6+"),T=n(a("cQSq")),b=a("vJke"),k=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,m["default"])(this,(e=(0,g["default"])(t)).call.apply(e,[this].concat(l))),a.state={type:4,data:[],loading:!1},a.getBaseData=function(e){var t=(0,y["default"])(a);a.setState({loading:!0},function(){(0,b.getPosition)(e).then(function(a){if(1===a.code){var n=[];a.object.forEach(function(e){n.push({item:e.item,"\u5df2\u6536\u6b3e":e.already,"\u9884\u6536\u6b3e":e.expect,"\u5e94\u6536\u6b3e":e.should})}),t.setState({data:n})}t.setState({type:e,loading:!1})})})},a.onChangeType=function(e){a.getBaseData(e)},a}return(0,h["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){this.getBaseData(4)}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.data,l=t.loading,s=new T["default"],p=s.createView().source(n);return p.transform({type:"fold",fields:["\u5df2\u6536\u6b3e","\u9884\u6536\u6b3e","\u5e94\u6536\u6b3e"],key:"type",value:"value"}),r["default"].createElement(u["default"],{title:"\u672a\u5b8c\u6210\u4e1a\u52a1\u8d26\u6b3e\u60c5\u51b5"},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:l},r["default"].createElement("div",{className:v["default"].col_header_2},r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeType(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(E.Chart,{height:400,data:p,padding:[60,80,80,200],forceFit:!0},r["default"].createElement(E.Legend,null),r["default"].createElement(E.Coord,{transpose:!0,scale:[1,-1]}),r["default"].createElement(E.Axis,{name:"item",label:{offset:12}}),r["default"].createElement(E.Axis,{name:"value",position:"right"}),r["default"].createElement(E.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(E.Geom,{type:"interval",position:"item*value",color:"type",adjust:[{type:"dodge",marginRatio:1/32}]}))))))}}]),t}(r.Component);t["default"]=k},"m+Vg":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getStorage=i,t.getOut=c,t.getOnTheWay=s;var l=n(a("d6i3")),r=n(a("1l/V")),u=n(a("skj5")),o=n(a("t3Un"));function i(e){return d.apply(this,arguments)}function d(){return d=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getStorage.api(t),{method:u["default"].getStorage.type}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getOut.api(t),{method:u["default"].getOut.type}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return p=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getOnTheWay.api(t),{method:u["default"].getOnTheWay.type}));case 1:case"end":return e.stop()}},e)})),p.apply(this,arguments)}},nK2h:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M")),o=n(a("p0pE")),i=n(a("2Taf")),d=n(a("vZ4D")),c=n(a("l4Ni")),f=n(a("ujKo")),s=n(a("MhPg")),p=a("VgJl"),m=(n(a("0X2M")),{width:"25%",textAlign:"center",background:"#fff",height:100,display:"flex",flexDirection:"column",justifyContent:"center"}),g=function(e){function t(){var e,a;(0,i["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,c["default"])(this,(e=(0,f["default"])(t)).call.apply(e,[this].concat(l))),a.state={data:{}},a.getDeviceInspection=function(){(0,p.getDeviceInspection)().then(function(e){1===e.code&&a.setState({data:e.object})})},a}return(0,s["default"])(t,e),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.getDeviceInspection()}},{key:"render",value:function(){var e=this.state.data,t=e.currentCount,a=e.waitCheck,n=e.checked,l=e.checkRate,i=e.normal,d=e.abnormal,c=e.runRate;return r["default"].createElement(u["default"],{title:"\u8bbe\u5907\u6570\u636e"},r["default"].createElement(u["default"].Grid,{style:(0,o["default"])({},m,{height:200})},r["default"].createElement("p",null,"\u4eca\u65e5\u5de1\u68c0\uff08\u53f0\uff09"),r["default"].createElement("p",null,t||"/")),r["default"].createElement(u["default"].Grid,{style:m},r["default"].createElement("p",null,"\u4eca\u65e5\u5f85\u68c0\uff08\u53f0\uff09"),r["default"].createElement("p",null,a||"/")),r["default"].createElement(u["default"].Grid,{style:m},r["default"].createElement("p",null,"\u68c0\u4fee\u8bbe\u5907\uff08\u53f0\uff09"),r["default"].createElement("p",null,n||"/")),r["default"].createElement(u["default"].Grid,{style:m},r["default"].createElement("p",null,"\u4eca\u65e5\u5de1\u68c0\u7387"),r["default"].createElement("p",null,l||"/")),r["default"].createElement(u["default"].Grid,{hoverable:!1,style:m},r["default"].createElement("p",null,"\u6b63\u5e38\u8fd0\u884c\uff08\u53f0\uff09"),r["default"].createElement("p",null,i||"/")),r["default"].createElement(u["default"].Grid,{style:m},r["default"].createElement("p",null,"\u5f02\u5e38\u5f85\u4fee\uff08\u53f0\uff09"),r["default"].createElement("p",null,d||"/")),r["default"].createElement(u["default"].Grid,{style:m},r["default"].createElement("p",null,"\u8bbe\u5907\u8fd0\u884c\u7387"),r["default"].createElement("p",null,c||"/")))}}]),t}(r.Component);t["default"]=g},q4Xm:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("14J3");var u=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("IzEo");var i=n(a("bx4M"));a("5Dmo");var d=n(a("3S7+"));a("aHsQ");var c=n(a("sGsY")),f=n(a("eHn4")),s=n(a("2Taf")),p=n(a("vZ4D")),m=n(a("l4Ni")),g=n(a("ujKo")),y=n(a("MhPg")),h=n(a("GlUy")),v=n(a("ty1I")),E=n(a("2v+s")),T=n(a("b7d8")),b=n(a("upqk")),k=a("HeSz"),w=[{key:"purchase",tab:"\u91c7\u8d2d"},{key:"product",tab:"\u751f\u4ea7"},{key:"sale",tab:"\u9500\u552e"},{key:"stock",tab:"\u5e93\u5b58"}],C=function(e){function t(){var e,a;(0,s["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,m["default"])(this,(e=(0,g["default"])(t)).call.apply(e,[this].concat(l))),a.state={canView:!1,tabkey:"purchase",statistics:[{title:"\u4eca\u65e5\u9500\u552e\u989d",value:0,yearValue:0,suffix:"\u5143",content:"\u5e74\u5ea6\u603b\u9500\u552e\u989d"},{title:"\u4eca\u65e5\u91c7\u8d2d\u989d",value:0,yearValue:0,suffix:"\u5143",content:"\u5e74\u5ea6\u603b\u91c7\u8d2d\u989d"},{title:"\u4eca\u65e5\u751f\u4ea7\u91cf",value:0,yearValue:0,suffix:"\u5428",content:"\u5e74\u5ea6\u603b\u751f\u4ea7\u91cf"}]},a.onTabChange=function(e,t){a.setState((0,f["default"])({},t,e))},a}return(0,y["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){var e=this;(0,k.getConfig)("data_overview").then(function(t){1===t.code&&0!==t.object.length&&e.setState({canView:!0})}),(0,k.getBoard)().then(function(t){1===t.code?e.setState({statistics:[{title:"\u4eca\u65e5\u9500\u552e\u989d",value:t.object.saleDay||0,yearValue:t.object.saleYear||0,suffix:"\u5143",content:"\u5e74\u5ea6\u603b\u9500\u552e\u989d"},{title:"\u4eca\u65e5\u91c7\u8d2d\u989d",value:t.object.buyDay||0,yearValue:t.object.buyYear||0,suffix:"\u5143",content:"\u5e74\u5ea6\u603b\u91c7\u8d2d\u989d"},{title:"\u4eca\u65e5\u751f\u4ea7\u91cf",value:t.object.proDay||0,yearValue:t.object.proYear||0,suffix:"\u5428",content:"\u5e74\u5ea6\u603b\u751f\u4ea7\u91cf"}]}):e.setState({statistics:[{title:"\u4eca\u65e5\u9500\u552e\u989d",value:0,yearValue:0,suffix:"\u5143",content:"\u5e74\u5ea6\u603b\u9500\u552e\u989d"},{title:"\u4eca\u65e5\u91c7\u8d2d\u989d",value:0,yearValue:0,suffix:"\u5143",content:"\u5e74\u5ea6\u603b\u91c7\u8d2d\u989d"},{title:"\u4eca\u65e5\u751f\u4ea7\u91cf",value:0,yearValue:0,suffix:"\u5428",content:"\u5e74\u5ea6\u603b\u751f\u4ea7\u91cf"}]})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.canView,n=t.tabkey,l=t.statistics;return r["default"].createElement("div",{className:h["default"].container},a&&r["default"].createElement(u["default"],{style:{backgroundColor:"#FFFFFF"}},l.map(function(e,t){return r["default"].createElement(o["default"],{className:h["default"].statistic_col,key:t},r["default"].createElement(i["default"],null,r["default"].createElement(c["default"],{title:e.title,value:e.value||0,suffix:e.suffix}),r["default"].createElement(d["default"],{placement:"bottom",title:"".concat(e.yearValue||0).concat(e.suffix)},r["default"].createElement("p",{style:{margin:"12px 0"}},e.content))))})),r["default"].createElement(i["default"],{tabList:w,activeTabKey:n,onTabChange:function(t){return e.onTabChange(t,"tabkey")},style:{marginTop:24}},"purchase"===n?r["default"].createElement(v["default"],null):"product"===n?r["default"].createElement(E["default"],null):"sale"===n?r["default"].createElement(T["default"],null):"stock"===n?r["default"].createElement(b["default"],null):null))}}]),t}(r.Component);t["default"]=C},"rj+D":function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI"));a("IzEo");var u=n(a("bx4M"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("T2oS");var d=n(a("W9HT"));a("R9oj");var c=n(a("ECub"));a("7Kak");var f=n(a("9yH6")),s=n(a("p0pE")),p=n(a("2Taf")),m=n(a("vZ4D")),g=n(a("l4Ni")),y=n(a("ujKo")),h=n(a("rlhR")),v=n(a("MhPg")),E=n(a("Boay")),T=a("yP6+"),b=n(a("Ki8k")),k=n(a("cQSq")),w=a("vJke"),C=function(e){function t(){var e,a;(0,p["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,g["default"])(this,(e=(0,y["default"])(t)).call.apply(e,[this].concat(l))),a.state={startTime:"",endTime:"",type:4,data:[],fields:[],loading:!1},a.getBaseGoods=function(e){var t=a.state,n=t.startTime,l=t.endTime,r=t.type,u=(0,h["default"])(a);a.setState({loading:!0},function(){var t=(0,s["default"])({type:r,startTime:n,endTime:l},e);(0,w.getGoods)(t).then(function(e){if(1===e.code)if(0!==e.object.length){var a=[{name:"\u672a\u5230\u6570\u91cf"},{name:"\u5df2\u6536\u6570\u91cf"}],n=[];e.object.forEach(function(e){a[0][e.item]=e.incomplete,a[1][e.item]=e.already,n.push(e.item)}),u.setState({data:a,fields:n})}else u.setState({data:[],fields:[]});u.setState({startTime:t.startTime,endTime:t.endTime,type:t.type,loading:!1})})})},a.onChangeGoods=function(e){a.getBaseGoods({type:e})},a.changeTime=function(e){e.timeType;var t=e.dateStrings,n=a.state.type;a.getBaseGoods({type:n,startTime:t[0],endTime:t[1]})},a}return(0,v["default"])(t,e),(0,m["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.data,l=t.fields,s=t.loading,p=new k["default"],m=p.createView().source(n);return m.transform({type:"fold",fields:l,key:"\u540d\u5b57",value:"\u6570\u91cf"}),r["default"].createElement(u["default"],{title:"\u4ea4\u8d27\u60c5\u51b5",extra:r["default"].createElement(b["default"],{showOne:!0,onChange:this.changeTime})},r["default"].createElement(o["default"],null,r["default"].createElement(i["default"],{span:24},r["default"].createElement(d["default"],{spinning:s},r["default"].createElement("div",{className:E["default"].col_header_2},r["default"].createElement(f["default"].Group,{onChange:function(t){return e.onChangeGoods(t.target.value)},value:a},r["default"].createElement(f["default"].Button,{value:4},"\u4f9b\u5e94\u5546"),r["default"].createElement(f["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(f["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(f["default"].Button,{value:3},"\u6210\u54c1"))),0===n.length?r["default"].createElement(c["default"],null):r["default"].createElement(T.Chart,{height:400,data:m,padding:[60,80,80,100],forceFit:!0},r["default"].createElement(T.Legend,null),r["default"].createElement(T.Axis,{name:"\u540d\u5b57"}),r["default"].createElement(T.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"\u6570\u91cf"}),r["default"].createElement(T.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(T.Geom,{type:"intervalStack",position:"\u540d\u5b57*\u6570\u91cf",color:"name"}))))))}}]),t}(r.Component);t["default"]=C},s9oR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=a("ABDx"),l={getPrice:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getPurchaseMoneyRatio")},type:"POST"},getAmount:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getPurchaseAmountRatio")},type:"POST"},getPay:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getPurchasePaymentRatio")},type:"POST"},getRatio:{api:function(){return"".concat(n.api_factory_prefix,"/lookBoard/getPurchasePassRatio")},type:"POST"},getPosition:{api:function(e){return"".concat(n.api_factory_prefix,"/lookBoard/getBuyUnfinishedFinance?type=").concat(e)},type:"GET"},getGoods:{api:function(e){return"".concat(n.api_factory_prefix,"/lookBoard/getBuyUnfinishedGoods")},type:"POST"}};t["default"]=l},skj5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=a("ABDx"),l={getStorage:{api:function(e){var t=e.dateTime,a=e.goodsType;return"".concat(n.api_factory_prefix,"/storage/selectInStorage?dateTime=").concat(t,"&goodsType=").concat(a)},type:"GET"},getOut:{api:function(e){var t=e.startTime,a=e.endTime,l=e.goodsType,r=e.type;return"".concat(n.api_factory_prefix,"/storage/selectOutStorage?startTime=").concat(t,"&endTime=").concat(a,"&goodsType=").concat(l,"&type=").concat(r)},type:"GET"},getOnTheWay:{api:function(e){return"".concat(n.api_factory_prefix,"/storage/selectInTransit?goodsType=").concat(e)},type:"GET"}};t["default"]=l},ty1I:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI")),u=n(a("2Taf")),o=n(a("vZ4D")),i=n(a("l4Ni")),d=n(a("ujKo")),c=n(a("MhPg")),f=n(a("cRX+")),s=n(a("MstB")),p=n(a("OIzG")),m=n(a("YBTA")),g=a("HeSz"),y=function(e){function t(){var e,a;(0,u["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,i["default"])(this,(e=(0,d["default"])(t)).call.apply(e,[this].concat(l))),a.state={configs:[]},a}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"componentDidMount",value:function(){var e=this;try{_czc1.push(["_trackEvent","\u67e5\u770b\u770b\u677f","\u67e5\u770b\u91c7\u8d2d","","",""])}catch(e){}(0,g.getConfig)("purchase").then(function(t){if(1===t.code){var a=[];t.object.forEach(function(e){a.push(e.code)}),e.setState({configs:a})}})}},{key:"render",value:function(){var e=this.state.configs;return r["default"].createElement("div",{className:f["default"].container},e.includes("30002")?r["default"].createElement(s["default"],null):null,e.includes("30006")?r["default"].createElement(p["default"],null):null,e.includes("30007")?r["default"].createElement(m["default"],null):null)}}]),t}(r.Component);t["default"]=y},upqk:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI")),u=n(a("2Taf")),o=n(a("vZ4D")),i=n(a("l4Ni")),d=n(a("ujKo")),c=n(a("MhPg")),f=n(a("SnHP")),s=n(a("KvyK")),p=n(a("ws9A")),m=n(a("5ZO7")),g=a("HeSz"),y=function(e){function t(){var e,a;(0,u["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,i["default"])(this,(e=(0,d["default"])(t)).call.apply(e,[this].concat(l))),a.state={configs:[]},a}return(0,c["default"])(t,e),(0,o["default"])(t,[{key:"componentDidMount",value:function(){var e=this;try{_czc1.push(["_trackEvent","\u67e5\u770b\u770b\u677f","\u67e5\u770b\u5e93\u5b58","","",""])}catch(e){}(0,g.getConfig)("stock").then(function(t){if(1===t.code){var a=[];t.object.forEach(function(e){a.push(e.code)}),e.setState({configs:a})}})}},{key:"render",value:function(){var e=this.state.configs;return r["default"].createElement("div",{className:f["default"].container},e.includes("30024")?r["default"].createElement(s["default"],null):null,e.includes("30026")?r["default"].createElement(p["default"],null):null,e.includes("30028")?r["default"].createElement(m["default"],null):null)}}]),t}(r.Component);t["default"]=y},vGga:function(e,t,a){e.exports={buttonBox:"buttonBox___36jkc",btn:"btn___100yr",span:"span___29OI_"}},vJke:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getPrice=i,t.getAmount=c,t.getPay=s,t.getRatio=m,t.getPosition=y,t.getGoods=v;var l=n(a("d6i3")),r=n(a("1l/V")),u=n(a("M8Fl")),o=n(a("t3Un"));function i(e){return d.apply(this,arguments)}function d(){return d=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPrice.api(),{method:u["default"].getPrice.type,body:t}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getAmount.api(),{method:u["default"].getAmount.type,body:t}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return p=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPay.api(),{method:u["default"].getPay.type,body:t}));case 1:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getRatio.api(),{method:u["default"].getRatio.type,body:t}));case 1:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function y(e){return h.apply(this,arguments)}function h(){return h=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getPosition.api(t),{method:u["default"].getPosition.type}));case 1:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function v(e){return E.apply(this,arguments)}function E(){return E=(0,r["default"])(l["default"].mark(function e(t){return l["default"].wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o["default"])(u["default"].getGoods.api(),{method:u["default"].getGoods.type,body:t}));case 1:case"end":return e.stop()}},e)})),E.apply(this,arguments)}},ws9A:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(a("q1tI")),u=n(a("eHn4"));a("IzEo");var o=n(a("bx4M"));a("14J3");var i=n(a("BMrR"));a("jCWc");var d=n(a("kPKH"));a("T2oS");var c=n(a("W9HT"));a("R9oj");var f=n(a("ECub"));a("7Kak");var s=n(a("9yH6")),p=n(a("p0pE")),m=n(a("2Taf")),g=n(a("vZ4D")),y=n(a("l4Ni")),h=n(a("ujKo")),v=n(a("rlhR")),E=n(a("MhPg")),T=n(a("SnHP")),b=a("yP6+"),k=n(a("Ki8k")),w=n(a("cQSq")),C=a("m+Vg"),x=function(e){function t(){var e,a;(0,m["default"])(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,y["default"])(this,(e=(0,h["default"])(t)).call.apply(e,[this].concat(l))),a.state={type:2,startTime:"",endTime:"",goodsType:1,oneData:[],oneFields:[],oneLoading:!1,twoData:[],twoFields:[],twoLoading:!1},a.getBaseOne=function(e){var t=a.state,n=t.type,l=t.startTime,r=t.endTime,u=t.goodsType,o=(0,v["default"])(a);a.setState({oneLoading:!0},function(){var t=(0,p["default"])({type:n,goodsType:u,startTime:l,endTime:r},e);(0,C.getOut)(t).then(function(e){if(1===e.code){var a=S(e.object),n=a.newArray,l=a.fields;o.setState({oneData:n,oneFields:l})}o.setState({type:t.type,startTime:t.startTime,endTime:t.endTime,goodsType:t.goodsType,oneLoading:!1})})})},a.getBaseTwo=function(e){var t=a.state,n=t.type,l=t.startTime,r=t.endTime,u=(0,v["default"])(a);a.setState({twoLoading:!0},function(){var t=(0,p["default"])({type:n,goodsType:4,startTime:l,endTime:r},e);(0,C.getOut)(t).then(function(e){if(1===e.code){var a=S(e.object),n=a.newArray,l=a.fields;u.setState({twoData:n,twoFields:l})}u.setState({startTime:t.startTime,endTime:t.endTime,twoLoading:!1})})})},a.onChangeOne=function(e){a.getBaseOne({goodsType:e})},a.changeTime=function(e){var t=e.timeType,n=e.dateStrings;if(!n[0]||!n[1])return!1;a.getBaseOne({type:3===t?2:1,startTime:n[0],endTime:n[1]}),a.getBaseTwo({type:3===t?2:1,startTime:n[0],endTime:n[1]})},a}return(0,E["default"])(t,e),(0,g["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.goodsType,n=t.oneData,l=t.oneFields,u=t.oneLoading,p=t.twoData,m=t.twoFields,g=t.twoLoading,y=new w["default"],h=y.createView().source(n);h.transform({type:"fold",fields:l,key:"\u65e5\u671f",value:"\u51fa\u5e93\u91cf"});var v=new w["default"],E=v.createView().source(p);return E.transform({type:"fold",fields:m,key:"\u6210\u54c1\u65e5\u671f",value:"\u6210\u54c1\u51fa\u5e93\u91cf"}),r["default"].createElement(o["default"],{title:"\u51fa\u5e93\u60c5\u51b5",extra:r["default"].createElement(k["default"],{showOne:!1,checkLength:!0,onChange:this.changeTime})},r["default"].createElement(i["default"],null,r["default"].createElement(d["default"],{span:12},r["default"].createElement(c["default"],{spinning:u},r["default"].createElement("div",{className:T["default"].col_header},r["default"].createElement("span",null,"\u539f\u6599\u51fa\u5e93\u60c5\u51b5"),r["default"].createElement(s["default"].Group,{onChange:function(t){return e.onChangeOne(t.target.value)},value:a},r["default"].createElement(s["default"].Button,{value:1},"\u4e3b\u6599"),r["default"].createElement(s["default"].Button,{value:2},"\u8f85\u6599"),r["default"].createElement(s["default"].Button,{value:3},"\u5176\u4ed6"))),0===n.length?r["default"].createElement(f["default"],null):r["default"].createElement(b.Chart,{height:400,data:h,padding:[60,80,80,100],forceFit:!0},r["default"].createElement(b.Legend,{position:"top",offsetY:-6}),r["default"].createElement(b.Axis,{name:"\u65e5\u671f"}),r["default"].createElement(b.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"\u51fa\u5e93\u91cf"}),r["default"].createElement(b.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(b.Geom,{type:"intervalStack",position:"\u65e5\u671f*\u51fa\u5e93\u91cf",color:"name"})))),r["default"].createElement(d["default"],{span:12},r["default"].createElement(c["default"],{spinning:g},r["default"].createElement("p",{className:T["default"].col_header},r["default"].createElement("span",null,"\u6210\u54c1\u51fa\u5e93\u60c5\u51b5")),0===p.length?r["default"].createElement(f["default"],null):r["default"].createElement(b.Chart,{height:400,data:E,padding:[60,80,80,100],forceFit:!0},r["default"].createElement(b.Legend,{position:"top",offsetY:-6}),r["default"].createElement(b.Axis,{name:"\u6210\u54c1\u65e5\u671f"}),r["default"].createElement(b.Axis,{label:{formatter:function(e,t,a){return e+"\u5428"}},name:"\u6210\u54c1\u51fa\u5e93\u91cf"}),r["default"].createElement(b.Tooltip,{itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span><span class="li-name">{name}\uff1a</span><span>{value}</span></li>'}),r["default"].createElement(b.Geom,{type:"intervalStack",position:"\u6210\u54c1\u65e5\u671f*\u6210\u54c1\u51fa\u5e93\u91cf",color:"name"}))))))}}]),t}(r.Component);t["default"]=x;var S=function(e){var t=[],a=[],n=[];return e.forEach(function(e){e.data.forEach(function(t){n.push((0,p["default"])({key:e.key},t))})}),n.forEach(function(e){var n=!1;0===t.length?(t.push((0,u["default"])({name:e.productName},e.key+".",e.productNumber)),a.push(e.key+"."),n=!0):t.forEach(function(t){t.name===e.productName&&(t[e.key+"."]=e.productNumber,n=!0,a.includes(e.key)||a.push(e.key+"."))}),n||(t.push((0,u["default"])({name:e.productName},e.key+".",e.productNumber)),a.includes(e.key)||a.push(e.key+"."))}),a=a.sort(function(e,t){return Number(e.replaceAll("-",""))-Number(t.replaceAll("-",""))}),{newArray:t,fields:a}}}}]);