(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{"59CQ":function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=l(a("jehZ")),n=l(a("Y/ft")),u=l(a("p0pE"));a("miYZ");var d=l(a("tsqr")),c=l(a("qIgq"));a("/zsF");var i=l(a("PArb")),p=r(a("q1tI")),s=a("MuoO"),f=l(a("wd/R")),m=l(a("wY1l")),g=a("M7Dx"),b=a("pxNB"),I=l(a("ktId")),h=(0,f["default"])().subtract(30,"days").format("YYYY-MM-DD"),E=(0,f["default"])().format("YYYY-MM-DD"),S=function(e){var t=e.form.getFieldDecorator,a={};return p["default"].createElement(p["default"].Fragment,null,p["default"].createElement(g.FormItemInputSearch,{getFieldDecorator:t,label:"",fieldId:"contractNum",required:!1,formItemLayout:a,inputProps:{placeholder:"\u6309\u91c7\u8d2d\u5408\u540c\u53f7\u67e5\u8be2"}}),p["default"].createElement(g.FormItemInputSearch,{getFieldDecorator:t,label:"",fieldId:"supplierName",required:!1,formItemLayout:a,inputProps:{placeholder:"\u6309\u4f9b\u5e94\u5546\u67e5\u8be2"}}),p["default"].createElement(g.FormItemRangePicker,{getFieldDecorator:t,label:"\u521b\u5efa\u65e5\u671f",fieldId:"dateRange",required:!1,datePickerProps:{format:"YYYY-MM-DD"},formItemLayout:a}))},v=function(e){var t=e.form.getFieldDecorator,a=e.storageOptions,r=e.productsOptions,l=e.productSpecOptions,o={labelCol:{span:4},wrapperCol:{span:16}};return p["default"].createElement(p["default"].Fragment,null,p["default"].createElement(g.FormItemSelect,{getFieldDecorator:t,label:"\u4ed3\u5e93",fieldId:"storageId",required:!0,selectProps:{options:a},formItemLayout:o}),p["default"].createElement(g.FormItemSelect,{getFieldDecorator:t,label:"\u4ea7\u54c1",fieldId:"productId",required:!0,selectProps:{options:r},formItemLayout:o}),p["default"].createElement(g.FormItemSelect,{getFieldDecorator:t,label:"\u89c4\u683c",fieldId:"productSpecId",required:!0,selectProps:{options:l},formItemLayout:o}),p["default"].createElement(g.FormItemInput,{getFieldDecorator:t,label:"\u5165\u5e93\u6570\u91cf",fieldId:"productNumber",required:!0,formItemLayout:o}))},y=(0,g.CustomFormHOC)(v),F=(0,g.CustomModalHOC)(y),P=function(e){var t=e.detailDataWithAdd;return p["default"].createElement("div",null,t.map(function(e){return p["default"].createElement("div",null,p["default"].createElement("div",{style:{marginLeft:"40%"}},p["default"].createElement("p",null,p["default"].createElement("span",{className:I["default"].label}," \u4ea7\u54c1\u540d\u79f0:"),e.productName),p["default"].createElement("p",null,p["default"].createElement("span",{className:I["default"].label}," \u4ea7\u54c1\u6570\u91cf:"),e.productNumber),p["default"].createElement("p",null,p["default"].createElement("span",{className:I["default"].label}," \u4ea7\u54c1\u89c4\u683c:"),e.productSpecName),p["default"].createElement("p",null,p["default"].createElement("span",{className:I["default"].label}," \u4ed3\u5e93:"),e.storageName),p["default"].createElement("p",null,p["default"].createElement("span",{className:I["default"].label}," \u65f6\u95f4:"),e.time)),p["default"].createElement(i["default"],null))}))},N=(0,g.CustomModalHOC)(P),O=function(e){var t=e.dispatch,a=e.storageOptions,r=e.productsOptions,l=e.productSpecOptions,i=e.saveFreeStorageParams,s=e.detailDataWithAdd,f=(0,p.useState)("descend"),I=(0,c["default"])(f,2),v=I[0],y=I[1],P=(0,p.useState)("1"),O=(0,c["default"])(P,2),D=O[0],C=O[1],M=(0,p.useState)(!1),T=(0,c["default"])(M,2),Y=T[0],k=T[1],W=(0,p.useState)(!1),q=(0,c["default"])(W,2),x=q[0],w=q[1];(0,p.useEffect)(function(){t({type:"purchaseWarehousingModel/fetchInitOptionsEffect",payload:{},callback:function(e,t,a){"error"===t&&d["default"].error(a)}})},[]);var L=[{title:"\u5f85\u5165\u5e93\u6570\u91cf",dataIndex:"productNumber"},{title:"\u5230\u5382\u65e5\u671f",dataIndex:"arrivalTime"}],A=[{title:"\u5165\u5e93\u65e5\u671f",dataIndex:"storageTime"},{title:"\u5165\u5e93\u6570\u91cf",dataIndex:"actualProductNumber"}],R=[{title:"\u5bf9\u5e94\u5408\u540c\u53f7",dataIndex:"contractId"},{title:"\u4f9b\u5e94\u5546",dataIndex:"supplierName"},{title:"\u5bf9\u5e94\u8f66\u53f7",dataIndex:"licensePlateNumber"},{title:"\u64cd\u4f5c",dataIndex:"operation",render:function(e,t){return p["default"].createElement(m["default"],{to:{pathname:"/inventoryManage/purchaseWarehousing/detail",query:{buyProductPendingStorageId:t.buyProductPendingStorageId}}},"\u67e5\u770b\u8be6\u60c5")}}];"1"===D?R.splice.apply(R,[3,0].concat(L)):R.splice.apply(R,[3,0].concat(A));var H=function(e,t,a){v!==a.order&&y(a.order)},_=[{value:"1",label:"\u5f85\u5165\u5e93"},{value:"2",label:"\u5df2\u5165\u5e93"}],z={parentTabs:_,searchFormProps:{},searchParams:{currentPage:1,orderStage:"",pageSize:10,searchCount:!0,contractNum:"",supplierName:"",dateRange:{startTime:h,endTime:E}},dispatch:t,handleTableChange:H,onTabChange:function(e){return C(e)}},K="buyProductPendingStorageId",j=(0,u["default"])({},z,{tableProps:{columns:R,rowKey:K},operateText:"\u67e5\u770b\u5df2\u65b0\u589e\u5165\u5e93\u4fe1\u606f",onOperateClick:function(){t({type:"purchaseWarehousingModel/getFreeStorageEffect",payload:{},callback:function(e,t,a){"error"===t?d["default"].error(a):w(!0)}})},listService:b.purchaseStorageService}),J=(0,u["default"])({},z,{tableProps:{columns:R,rowKey:K},operateText:"\u65b0\u589e\u5165\u5e93",onOperateClick:function(){return k(!0)},listService:b.purchaseStorageWaitService}),Z=function(e){t({type:"purchaseWarehousingModel/cacheSaveFreeStorageEffect",payload:e,callback:function(e,t,a){"error"===t&&d["default"].error(a)}})},B={visible:Y,onOk:function(){try{_czc1.push(["_trackEvent","\u91c7\u8d2d\u5165\u5e93","\u65b0\u589e","","",""])}catch(e){}t({type:"purchaseWarehousingModel/saveFreeStorageEffect",payload:{},callback:function(e,t,a){"error"===t?d["default"].error(a):(d["default"].success(a),k(!1))}})},onCancel:function(){return k(!1)},title:"\u786e\u8ba4\u5165\u5e93",ComProps:{storageOptions:a,productsOptions:r,productSpecOptions:l,dataDetail:i,onChange:function(e){return Z(e)}}},Q="1"===D?(0,u["default"])({},J):(0,u["default"])({},j),X=function(e){var t=e.dateRange,a=e.contractNum,r=e.supplierName,l=(0,n["default"])(e,["dateRange","contractNum","supplierName"]),o=(0,u["default"])({startTime:t.startTime,endTime:t.endTime,contractNum:a,supplierName:r},l);return o},G={visible:x,onOk:function(){return w(!1)},onCancel:function(){return w(!1)},title:"\u65b0\u589e\u5165\u5e93\u7684\u8be6\u60c5",ComProps:{detailDataWithAdd:s}};return p["default"].createElement(p["default"].Fragment,null,p["default"].createElement(g.TableWrapper,(0,o["default"])({},Q,{currentTabKey:D,paramsHandler:X,tableWrapperRef:function(e){console.log(e)}}),p["default"].createElement(S,null)),p["default"].createElement(F,B),p["default"].createElement(N,G))},D=(0,s.connect)(function(e){var t=e.purchaseWarehousingModel,a=t.storageOptions,r=t.productsOptions,l=t.productSpecOptions,o=t.saveFreeStorageParams,n=t.detailDataWithAdd;return{storageOptions:a,productsOptions:r,productSpecOptions:l,saveFreeStorageParams:o,detailDataWithAdd:n}})(O);t["default"]=D}}]);